<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Samut Prakan Herbal & Substitute</title>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Google Fonts: Sarabun -->
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Sarabun', sans-serif;
            background-color: #f0fdf4; /* Green-50 */
        }
        .custom-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .tab-active {
            border-bottom: 3px solid #15803d; /* Green-700 */
            color: #15803d;
            font-weight: 600;
        }
        .tab-inactive {
            color: #6b7280; /* Gray-500 */
        }
        .tab-inactive:hover {
            color: #15803d;
        }
        .animate-fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Flowchart Styles */
        .flow-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        .flow-node {
            background-color: white;
            border: 2px solid #16a34a; /* green-600 */
            border-radius: 8px;
            padding: 12px 20px;
            text-align: center;
            font-weight: 500;
            color: #14532d; /* green-900 */
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-width: 90%;
            width: 350px;
            position: relative;
            z-index: 10;
        }
        .flow-node.start {
            background-color: #dcfce7; /* green-100 */
            border-radius: 25px;
            border-color: #15803d;
        }
        .flow-node.process {
            border-color: #3b82f6; /* blue-500 */
            color: #1e3a8a; /* blue-900 */
        }
        .flow-node.end {
            background-color: #f3f4f6; /* gray-100 */
            border-color: #4b5563; /* gray-600 */
            color: #1f2937; /* gray-800 */
            border-radius: 25px;
        }
        .flow-diamond-wrapper {
            position: relative;
            width: 140px;
            height: 140px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 10px 0;
        }
        .flow-diamond {
            width: 100px;
            height: 100px;
            background-color: #fef9c3; /* yellow-50 */
            border: 2px solid #ca8a04; /* yellow-600 */
            transform: rotate(45deg);
            position: absolute;
            z-index: 5;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .flow-diamond-text {
            position: relative;
            z-index: 10;
            text-align: center;
            font-size: 0.85rem;
            font-weight: 600;
            color: #854d0e; /* yellow-900 */
            width: 140px;
        }
        .flow-arrow {
            width: 2px;
            height: 30px;
            background-color: #94a3b8; /* slate-400 */
            margin: 4px 0;
            position: relative;
        }
        .flow-arrow::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: -4px;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-top: 8px solid #94a3b8;
        }
        .decision-path {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 500px;
            margin-top: -10px;
            margin-bottom: 20px;
            position: relative;
        }
        .decision-line-left, .decision-line-right {
            flex: 1;
            border-top: 2px solid #94a3b8;
            margin-top: 20px;
            position: relative;
        }
        .decision-line-left {
            border-right: 2px solid #94a3b8; /* Drop down line */
            height: 20px;
            margin-right: -1px;
        }
        .decision-line-right {
            border-left: 2px solid #94a3b8; /* Drop down line */
            height: 20px;
            margin-left: -1px;
        }
        
        .decision-label {
            position: absolute;
            top: -25px;
            font-size: 0.75rem;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 4px;
            white-space: nowrap;
        }
        .yes-label {
            right: 50%;
            transform: translateX(50%);
            color: #dc2626;
            background-color: #fee2e2;
        }
        .no-label {
            left: 50%;
            transform: translateX(-50%);
            color: #16a34a;
            background-color: #dcfce7;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- DATABASE ZONE ---
        
        const hospitals = [
            "โรงพยาบาลบางบ่อ",
            "โรงพยาบาลสมุทรปราการ",
            "โรงพยาบาลบางจาก",
            "โรงพยาบาลบางเสาธง",
            "โรงพยาบาลบางพลี",
            "โรงพยาบาลพระสมุทรเจดีย์สวาทยานนท์"
        ];

        // ข้อมูลยาทดแทน (Complete)
        const substituteData = [
            { id: 101, hospital: "โรงพยาบาลบางบ่อ", herbName: "ยาแคปซูลขมิ้นชัน", modernDrug: "M.Carminative", indication: "บรรเทาอาการแน่น จุกเสียด ท้องอืด ท้องเฟ้อ", dose: "ครั้งละ 2-4 แคปซูล วันละ 4 ครั้ง", limit: "56-112 แคปซูล (14 วัน)", date: "2 เมษายน 2568" },
            { id: 102, hospital: "โรงพยาบาลบางบ่อ", herbName: "ยาครีมพญายอ", modernDrug: "Acyclovir cream", indication: "รักษาโรคเริม งูสวัด", dose: "ทาบริเวณที่มีอาการ วันละ 5 ครั้ง", limit: "1-2 หลอด (14 วัน)", date: "2 เมษายน 2568" },
            { id: 103, hospital: "โรงพยาบาลบางบ่อ", herbName: "ยาแก้ไอมะขามป้อม", modernDrug: "M.Tussis", indication: "บรรเทาอาการไอ ขับเสมหะ", dose: "จิบเมื่อมีอาการไอ", limit: "1-7 ขวด (7 วัน)", date: "2 เมษายน 2568" },
            { id: 201, hospital: "โรงพยาบาลสมุทรปราการ", herbName: "ยาขี้ผึ้งไพล สูตรตำรับที่ 1", modernDrug: "Analgesic balm/Neotica", indication: "บรรเทาอาการปวดเมื่อย", dose: "ทาบริเวณที่มีอาการ", limit: "1-2 หลอด/ขวด (30 วัน)", date: "12 มกราคม 2569" },
            { id: 202, hospital: "โรงพยาบาลสมุทรปราการ", herbName: "ยาครีมพญายอ", modernDrug: "Acyclovir cream", indication: "รักษาโรคเริม งูสวัด", dose: "ทาบริเวณที่มีอาการ วันละ 5 ครั้ง", limit: "1-2 หลอด (14 วัน)", date: "12 มกราคม 2569" },
            { id: 203, hospital: "โรงพยาบาลสมุทรปราการ", herbName: "ยาแก้ไอมะขามป้อม", modernDrug: "M.tussis", indication: "บรรเทาอาการไอ", dose: "จิบเมื่อมีอาการ", limit: "1-7 ขวด (7 วัน)", date: "12 มกราคม 2569" },
            { id: 204, hospital: "โรงพยาบาลสมุทรปราการ", herbName: "ยาอมมะแว้ง", modernDrug: "ยาอมแก้ไอแผนปัจจุบัน", indication: "บรรเทาอาการไอ ขับเสมหะ", dose: "อมครั้งละ 1-2 เม็ด เมื่อมีอาการ", limit: "1-5 ซอง (7 วัน)", date: "12 มกราคม 2569" },
            { id: 205, hospital: "โรงพยาบาลสมุทรปราการ", herbName: "ยามะขามแขก", modernDrug: "Bisacodyl", indication: "บรรเทาอาการท้องผูก", dose: "รับประทานก่อนนอน", limit: "10-30 เม็ด (30 วัน)", date: "12 มกราคม 2569" },
            { id: 206, hospital: "โรงพยาบาลสมุทรปราการ", herbName: "สเปรย์กระดูกไก่ดำ", modernDrug: "Spray NSAIDs (Uni Spray)", indication: "บรรเทาอาการปวดกล้ามเนื้อ ลดการอักเสบ", dose: "ฉีดพ่นบริเวณที่มีอาการ", limit: "1-2 ขวด (30 วัน)", date: "12 มกราคม 2569" },
            { id: 301, hospital: "โรงพยาบาลบางจาก", herbName: "ยาขี้ผึ้งไพล สูตรตำรับที่ 1", modernDrug: "Analgesic balm", indication: "บรรเทาอาการปวดเมื่อย", dose: "ทาถูแก้อาการปวดเมื่อย", limit: "1-2 หลอด/ขวด (30 วัน)", date: "19 เมษายน 2564" },
            { id: 302, hospital: "โรงพยาบาลบางจาก", herbName: "ยาครีมพญายอ", modernDrug: "Acyclovir cream", indication: "รักษาโรคเริม งูสวัด", dose: "ทาบริเวณที่มีอาการ วันละ 5 ครั้ง", limit: "1-2 หลอด (14 วัน)", date: "19 เมษายน 2564" },
            { id: 303, hospital: "โรงพยาบาลบางจาก", herbName: "ยาแก้ไอมะขามป้อม", modernDrug: "M.Tussis", indication: "บรรเทาอาการไอ ขับเสมหะ", dose: "จิบเมื่อมีอาการ", limit: "1-7 ขวด (7 วัน)", date: "19 เมษายน 2564" },
            { id: 304, hospital: "โรงพยาบาลบางจาก", herbName: "ยามะขามแขก", modernDrug: "Bisacodyl", indication: "บรรเทาอาการท้องผูก", dose: "รับประทานก่อนนอน", limit: "10-30 เม็ด (30 วัน)", date: "19 เมษายน 2564" },
            { id: 401, hospital: "โรงพยาบาลบางเสาธง", herbName: "ยาขี้ผึ้งไพล สูตรตำรับที่ 1", modernDrug: "Analgesic balm", indication: "บรรเทาอาการปวดเมื่อย", dose: "ทาบริเวณที่มีอาการ", limit: "1-2 หลอด/ขวด (30 วัน)", date: "30 ธันวาคม 2568" },
            { id: 402, hospital: "โรงพยาบาลบางเสาธง", herbName: "ยาแก้ไอมะขามป้อม", modernDrug: "M.tussis", indication: "บรรเทาอาการไอ ขับเสมหะ", dose: "จิบเมื่อมีอาการ", limit: "1-7 ขวด (7 วัน)", date: "30 ธันวาคม 2568" },
            { id: 403, hospital: "โรงพยาบาลบางเสาธง", herbName: "ยาธาตุอบเชย", modernDrug: "M.Carminative", indication: "ขับลม บรรเทาอาการท้องอืด ท้องเฟ้อ", dose: "รับประทานครั้งละ 1-2 ช้อนโต๊ะ", limit: "1-3 ขวด (14 วัน)", date: "30 ธันวาคม 2568" },
            { id: 404, hospital: "โรงพยาบาลบางเสาธง", herbName: "ยาเพชรสังฆาต", modernDrug: "Daflon, Sidual", indication: "บรรเทาอาการริดสีดวงทวารหนัก", dose: "รับประทานครั้งละ 3 เม็ด วันละ 3 ครั้ง", limit: "42-100 แคปซูล (30 วัน)", date: "30 ธันวาคม 2568" },
            { id: 501, hospital: "โรงพยาบาลบางพลี", herbName: "ยาขี้ผึ้งไพล สูตรตำรับที่ 1", modernDrug: "Analgesic balm", indication: "บรรเทาอาการปวดเมื่อย", dose: "ทาบริเวณที่มีอาการ", limit: "1-2 หลอด/ขวด (30 วัน)", date: "9 เมษายน 2568" },
            { id: 502, hospital: "โรงพยาบาลบางพลี", herbName: "ยาแก้ไอมะขามป้อม", modernDrug: "M.tussis", indication: "บรรเทาอาการไอ ขับเสมหะ", dose: "จิบเมื่อมีอาการ", limit: "1-7 ขวด (7 วัน)", date: "9 เมษายน 2568" },
            { id: 503, hospital: "โรงพยาบาลบางพลี", herbName: "ยามะขามแขก", modernDrug: "Senoside", indication: "บรรเทาอาการท้องผูก", dose: "รับประทานก่อนนอน", limit: "10-30 เม็ด (30 วัน)", date: "9 เมษายน 2568" },
            { id: 601, hospital: "โรงพยาบาลพระสมุทรเจดีย์สวาทยานนท์", herbName: "ยาครีมพญายอ", modernDrug: "Acyclovir cream", indication: "รักษาโรคเริม งูสวัด", dose: "ทาบริเวณที่มีอาการ วันละ 5 ครั้ง", limit: "1-2 หลอด (14 วัน)", date: "5 มกราคม 2569" },
            { id: 602, hospital: "โรงพยาบาลพระสมุทรเจดีย์สวาทยานนท์", herbName: "ยาแก้ไอมะขามป้อม", modernDrug: "M.tussis", indication: "บรรเทาอาการไอ ขับเสมหะ", dose: "จิบเมื่อมีอาการ", limit: "1-7 ขวด (7 วัน)", date: "5 มกราคม 2569" },
            { id: 603, hospital: "โรงพยาบาลพระสมุทรเจดีย์สวาทยานนท์", herbName: "ยามะขามแขก", modernDrug: "Bisacodyl", indication: "บรรเทาอาการท้องผูก", dose: "รับประทานครั้งละ 2-4 เม็ด ก่อนนอน", limit: "10-30 เม็ด (30 วัน)", date: "5 มกราคม 2569" },
            { id: 604, hospital: "โรงพยาบาลพระสมุทรเจดีย์สวาทยานนท์", herbName: "ยาเพชรสังฆาต", modernDrug: "Daflon", indication: "บรรเทาอาการริดสีดวงทวารหนัก", dose: "รับประทานครั้งละ 3 เม็ด วันละ 3 ครั้ง", limit: "42-100 แคปซูล (30 วัน)", date: "5 มกราคม 2569" }
        ];

        // ฐานข้อมูลสมุนไพร CPG Complete (Filled Missing Data)
        const herbDatabase = [
            // --- 1. กลุ่มอาการปวดกล้ามเนื้อและปวดข้อ ---
            {
                name: "ยาขี้ผึ้งไพล สูตรตำรับที่ 1",
                scientific: "Zingiber montanum (Plai Balm Formula 1)",
                substitute_for: "Analgesic balm, Topical NSAIDs",
                properties: "บรรเทาอาการปวดเมื่อยตามร่างกาย เคล็ดขัดยอก บวม ฟกช้ำ",
                cpg: "ทาและถูเบาๆ บริเวณที่มีอาการ วันละ 2-3 ครั้ง (สำหรับใช้ภายนอกเท่านั้น)",
                caution: "ห้ามทาบริเวณขอบตา เนื้อเยื่ออ่อน หรือบริเวณที่มีแผลเปิด สตรีมีครรภ์ควรระมัดระวังการใช้",
                min_dose_course: "1 หลอด/ขวด",
                max_dose_course: "2 หลอด/ขวด",
                dispensing_cycle: "30 วัน",
                cost_per_course: "ไม่เกิน 65 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาเถาวัลย์เปรียง (แคปซูล)",
                scientific: "Derris scandens Capsule",
                substitute_for: "Diclofenac, Ibuprofen",
                properties: "บรรเทาอาการปวดกล้ามเนื้อ ลดการอักเสบ แก้กษัย",
                cpg: "รับประทานครั้งละ 500 มก. - 1 กรัม วันละ 3 ครั้ง หลังอาหารทันที",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์ ระวังการใช้ในผู้ป่วยโรคกระเพาะอาหาร อาจระคายเคืองกระเพาะอาหารได้ ควรทานหลังอาหารทันที",
                interaction: ["NSAIDs", "Warfarin"],
                min_dose_course: "21 แคปซูล",
                max_dose_course: "63 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 100 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาสหัศธารา",
                scientific: "Sahatsatara Formula",
                substitute_for: "Muscle Relaxants",
                properties: "ขับลมในเส้น แก้ปวดเมื่อยตามร่างกาย แก้ชา (ตำรับยาร้อน)",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์ ผู้ที่มีความดันโลหิตสูง และโรคหัวใจ ควรระวังการใช้ในผู้สูงอายุ และผู้ที่มีร่างกายร้อน",
                min_dose_course: "21 แคปซูล",
                max_dose_course: "63 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 120 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาอัมฤทธิ์โอสถ",
                scientific: "Amrut Osot",
                substitute_for: "Chronic Pain NSAIDs",
                properties: "แก้ลมกษัย บรรเทาอาการปวดเมื่อยตึงกล้ามเนื้อเรื้อรัง",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ระวังการใช้ในผู้สูงอายุ และผู้ที่มีความดันโลหิตสูง ไม่ควรใช้ติดต่อกันเป็นเวลานาน",
                min_dose_course: "28,000 มิลลิกรัม",
                max_dose_course: "56,000 มิลลิกรัม",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 207.5 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "สเปรย์กระดูกไก่ดำ",
                scientific: "Justicia gendarussa Spray",
                substitute_for: "NSAIDs Spray",
                properties: "บรรเทาอาการปวดกล้ามเนื้อ ปวดข้อ ลดการอักเสบ",
                cpg: "สเปรย์: ฉีดพ่นบริเวณที่มีอาการ วันละ 3-4 ครั้ง (ใช้ภายนอก)",
                caution: "ระวังการใช้ในสตรีมีครรภ์ ห้ามใช้กับแผลเปิด ระวังอย่าให้เข้าตา",
                min_dose_course: "1 ขวด",
                max_dose_course: "2 ขวด",
                dispensing_cycle: "30 วัน",
                cost_per_course: "ไม่เกิน 150 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาทาพระเส้น",
                scientific: "Tha Phra Sen",
                substitute_for: "NSAIDs Gel",
                properties: "แก้ลมจับโปง บรรเทาอาการปวดเนื่องจากข้อเข่าเสื่อม",
                cpg: "ทาบริเวณที่มีอาการปวด วันละ 2-3 ครั้ง",
                caution: "ใช้ภายนอก ห้ามรับประทาน ระวังอย่าให้เข้าตา",
                min_dose_course: "1 ขวด",
                max_dose_course: "2 ขวด",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 97 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาพริก (เจล/ครีม)",
                scientific: "Capsicum Gel/Cream",
                substitute_for: "Hot Analgesic Balm",
                properties: "บรรเทาอาการปวดกล้ามเนื้อ",
                cpg: "ทาบางๆ บริเวณที่มีอาการ วันละ 3-4 ครั้ง",
                caution: "ระวังอย่าให้เข้าตา หรือทาบริเวณผิวบอบบาง ห้ามทาแผลเปิด",
                min_dose_course: "1 หลอด",
                max_dose_course: "2 หลอด",
                dispensing_cycle: "30 วัน",
                cost_per_course: "ไม่เกิน 70 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            
            // 2. กลุ่มอาการชาจากอัมพฤกษ์-อัมพาต
            {
                name: "ยาทำลายพระสุเมรุ",
                scientific: "Ya Thamlar Phrasumeru",
                substitute_for: "ยาแก้ปวดปลายประสาท/คลายกล้ามเนื้อ",
                properties: "แก้ลมในเส้น บรรเทาอาการปวดเมื่อย ชาตามปลายมือปลายเท้า",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์และผู้ที่มีไข้ ระวังในผู้สูงอายุและผู้ที่มีความดันโลหิตสูง",
                min_dose_course: "20 แคปซูล",
                max_dose_course: "40 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 100 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาแก้ลมแก้เส้น",
                scientific: "Ya Kae Lom Kae Sen",
                substitute_for: "Muscle Relaxant",
                properties: "บรรเทาอาการปวดตึงกล้ามเนื้อ มือเท้าชา",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ห้ามใช้ในหญิงมีครรภ์และผู้ที่มีไข้",
                min_dose_course: "20 แคปซูล",
                max_dose_course: "40 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 100 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },

            // 3. กลุ่มอาการไข้หวัดและภูมิแพ้
            {
                name: "ยาฟ้าทะลายโจร (แคปซูล/เม็ด)",
                scientific: "Andrographis paniculata",
                substitute_for: "Paracetamol (ไข้ต่ำ), Antibiotics (หวัดไวรัส)",
                properties: "บรรเทาอาการเจ็บคอ หวัด ไข้หวัด ตัวร้อน",
                cpg: "รับประทานครั้งละ 1.5 - 3 กรัม วันละ 4 ครั้ง หลังอาหารและก่อนนอน (ไม่เกิน 7 วัน) รีบทานทันทีเมื่อมีอาการ",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์และให้นมบุตร หากใช้ติดต่อกันนานอาจทำให้แขนขาชา หรือมีผลต่อตับ",
                interaction: ["Warfarin", "Antihypertensives (ยาลดความดัน)", "Aspirin"],
                min_dose_course: "20 แคปซูล",
                max_dose_course: "60 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 60 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง (ห้ามใช้ติดต่อกันนาน)"
            },
            {
                name: "ยาปราบชมพูทวีป",
                scientific: "Ya Prab Chompu Thawip",
                substitute_for: "Antihistamine (CPM)",
                properties: "บรรเทาอาการหวัด ภูมิแพ้อากาศ (แพ้อากาศ)",
                cpg: "รับประทานครั้งละ 750 มก. วันละ 4 ครั้ง ก่อนอาหารและก่อนนอน",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์และผู้ที่มีไข้ ระวังการใช้ในผู้ที่มีความดันโลหิตสูง",
                min_dose_course: "30 แคปซูล",
                max_dose_course: "60 แคปซูล",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 80 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาจันทน์ลีลา",
                scientific: "Ya Chan Leela",
                substitute_for: "Paracetamol",
                properties: "แก้ไข้ ตัวร้อน ไข้เปลี่ยนฤดู",
                cpg: "รับประทานครั้งละ 1-2 กรัม ทุก 3-4 ชั่วโมง เมื่อมีอาการ",
                caution: "หากใช้ติดต่อกันเกิน 3 วัน อาการไม่ดีขึ้นควรปรึกษาแพทย์",
                min_dose_course: "10 แคปซูล",
                max_dose_course: "20 แคปซูล",
                dispensing_cycle: "5 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ใช้ได้",
                contra_lactation: "ใช้ได้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาเขียวหอม",
                scientific: "Ya Khiao Hom",
                substitute_for: "Cooling agent",
                properties: "แก้ไข้ แก้ร้อนใน กระหายน้ำ อีสุกอีใส",
                cpg: "รับประทานครั้งละ 1 กรัม ทุก 3-4 ชั่วโมง",
                caution: "ควรระวังการใช้ในผู้ที่แพ้เกสรดอกไม้",
                min_dose_course: "1 ขวด",
                max_dose_course: "2 ขวด",
                dispensing_cycle: "5 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ใช้ได้",
                contra_lactation: "ใช้ได้",
                contra_kidney: "ใช้ได้",
                contra_liver: "ใช้ได้"
            },

            // 4. กลุ่มอาการไอและเจ็บคอ
            {
                name: "ยาแก้ไอมะขามป้อม",
                scientific: "Phyllanthus emblica Syrup",
                substitute_for: "M.Tussis, Dextromethorphan",
                properties: "บรรเทาอาการไอ ขับเสมหะ ทำให้ชุ่มคอ",
                cpg: "จิบเมื่อมีอาการไอ ทุก 4 ชั่วโมง (เขย่าขวดก่อนใช้)",
                caution: "ผู้ป่วยเบาหวานควรระวังในสูตรยาน้ำที่มีน้ำตาล (ควรเลือกสูตรไม่มีน้ำตาลหากมี)",
                min_dose_course: "1 ขวด",
                max_dose_course: "7 ขวด",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 45 บาท",
                contra_pregnancy: "ใช้ได้",
                contra_lactation: "ใช้ได้",
                contra_kidney: "ระวังปริมาณน้ำตาล/โซเดียม",
                contra_liver: "ใช้ได้"
            },
             {
                name: "ยาอมมะแว้ง",
                scientific: "Ma Waeng Lozenge",
                substitute_for: "Throat Lozenge",
                properties: "แก้ไอ ขับเสมหะ ทำให้ชุ่มคอ",
                cpg: "อมครั้งละ 1-2 เม็ด เมื่อมีอาการ",
                caution: "ไม่ควรใช้ติดต่อกันเป็นเวลานาน",
                min_dose_course: "1 ซอง",
                max_dose_course: "5 ซอง",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ระมัดระวัง",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ใช้ได้",
                contra_liver: "ใช้ได้"
            },

            // 5. กลุ่มอาการท้องอืด ท้องเฟ้อ
            {
                name: "ยาแคปซูลขมิ้นชัน",
                scientific: "Curcuma longa L.",
                substitute_for: "Simethicone, Domperidone",
                properties: "บรรเทาอาการแน่น จุกเสียด ท้องอืด ท้องเฟ้อ",
                cpg: "รับประทานครั้งละ 2-4 แคปซูล (500 มก. - 1 กรัม) วันละ 4 ครั้ง หลังอาหารและก่อนนอน",
                caution: "ห้ามใช้ในผู้ที่ท่อน้ำดีอุดตัน หญิงตั้งครรภ์ ระวังในผู้ป่วยนิ่วในถุงน้ำดี",
                interaction: ["Warfarin (ยาต้านการแข็งตัวของเลือด)", "Aspirin"],
                min_dose_course: "56 แคปซูล",
                max_dose_course: "112 แคปซูล",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 55 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาธาตุอบเชย",
                scientific: "Cinnamon Mixture",
                substitute_for: "M.Carminative",
                properties: "ขับลม บรรเทาอาการท้องอืด ท้องเฟ้อ",
                cpg: "รับประทานครั้งละ 15-30 มล. ก่อนอาหาร 3 เวลา",
                caution: "ระวังในผู้ที่มีไข้สูง ตัวร้อน หญิงตั้งครรภ์",
                min_dose_course: "1 ขวด",
                max_dose_course: "3 ขวด",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 55 บาท",
                contra_pregnancy: "ระมัดระวัง",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ใช้ได้",
                contra_liver: "ใช้ได้"
            },
            {
                name: "ยาธาตุบรรจบ",
                scientific: "Ya That Bunchop",
                substitute_for: "ORS, Carbon",
                properties: "แก้ธาตุไม่ปกติ ท้องเสีย (ชนิดที่ไม่ติดเชื้อ) แก้ท้องอืด",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร หรือเมื่อมีอาการ",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์ และผู้ที่มีไข้ ควรระวังการใช้ในผู้สูงอายุ",
                min_dose_course: "10 แคปซูล",
                max_dose_course: "20 แคปซูล",
                dispensing_cycle: "5 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ใช้ได้",
                contra_liver: "ใช้ได้"
            },
            {
                name: "ยาประสะกะเพรา",
                scientific: "Ya Prasa Kaprao",
                substitute_for: "Carminative",
                properties: "แก้ท้องอืด ท้องเฟ้อ จุกเสียด แน่นท้อง",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง หลังอาหาร",
                caution: "ห้ามใช้ในหญิงมีครรภ์ และผู้ที่มีไข้",
                min_dose_course: "20 แคปซูล",
                max_dose_course: "40 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาเบญจกูล",
                scientific: "Ya Benchakul",
                substitute_for: "Stomachic",
                properties: "บำรุงธาตุ แก้ท้องอืด ท้องเฟ้อ ปรับสมดุลธาตุ",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ห้ามใช้ในหญิงมีครรภ์ และผู้ที่มีไข้",
                min_dose_course: "20 แคปซูล",
                max_dose_course: "40 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาขิง (แคปซูล)",
                scientific: "Zingiber officinale Capsule",
                substitute_for: "Carminative, Antiemetic",
                properties: "ขับลม แก้ท้องอืด จุกเสียด คลื่นไส้ อาเจียน",
                cpg: "รับประทานครั้งละ 2-4 แคปซูล วันละ 3-4 ครั้ง หลังอาหาร",
                caution: "ระวังการใช้ร่วมกับยาต้านการแข็งตัวของเลือด และผู้ที่มีนิ่วในถุงน้ำดี",
                interaction: ["Warfarin", "Aspirin"],
                min_dose_course: "20 แคปซูล",
                max_dose_course: "60 แคปซูล",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 80 บาท",
                contra_pregnancy: "ระมัดระวัง",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ใช้ได้",
                contra_liver: "ใช้ได้"
            },

            // --- 6. กลุ่มอาการท้องผูกและริดสีดวงทวาร ---
            {
                name: "ยามะขามแขก",
                scientific: "Senna alexandrina",
                substitute_for: "Bisacodyl, Senokot",
                properties: "บรรเทาอาการท้องผูก (Laxative)",
                cpg: "รับประทานครั้งละ 2-4 เม็ด ก่อนนอน หรือเมื่อมีอาการ (ธาตุหนัก-เบา ต่างกัน)",
                caution: "ห้ามใช้ในผู้ที่มีภาวะลำไส้อุดตัน ปวดท้องโดยไม่ทราบสาเหตุ ไม่ควรใช้ติดต่อกันเกิน 2 สัปดาห์",
                interaction: ["Digoxin (อาจเกิดภาวะ Hypokalemia)"],
                min_dose_course: "10 เม็ด",
                max_dose_course: "30 เม็ด",
                dispensing_cycle: "30 วัน",
                cost_per_course: "ไม่เกิน 30 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาธรณีสันฑะฆาต",
                scientific: "Ya Thoranee Santhakat",
                substitute_for: "Strong Laxatives",
                properties: "แก้กษัยเส้น แก้ท้องผูก (ขับเมือกมันในลำไส้)",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 1 ครั้ง ก่อนอาหารเช้า หรือก่อนนอน",
                caution: "ห้ามใช้ในหญิงมีครรภ์ หญิงให้นมบุตร และผู้ที่มีความดันโลหิตสูง",
                min_dose_course: "10 แคปซูล",
                max_dose_course: "20 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาสหทัศน์",
                scientific: "Ya Sahat",
                substitute_for: "Laxatives",
                properties: "แก้เถาดาน ท้องผูก ถ่ายสิ่งปฏิกูล",
                cpg: "รับประทานครั้งละ 1 กรัม ก่อนนอน",
                caution: "ห้ามใช้ในผู้ที่มีภาวะทางเดินอาหารอุดตัน หญิงตั้งครรภ์",
                min_dose_course: "10 แคปซูล",
                max_dose_course: "20 แคปซูล",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาเพชรสังฆาต",
                scientific: "Cissus quadrangularis L.",
                substitute_for: "Daflon, Sidual",
                properties: "บรรเทาอาการริดสีดวงทวารหนัก (Hemorrhoids)",
                cpg: "รับประทานครั้งละ 3 แคปซูล (500 มก./แคปซูล) วันละ 3 ครั้ง หลังอาหาร",
                caution: "ควรระวังการใช้ในผู้ป่วยโรคตับและไต",
                interaction: ["Hypoglycemic agents"],
                min_dose_course: "42 แคปซูล",
                max_dose_course: "100 แคปซูล",
                dispensing_cycle: "14-30 วัน",
                cost_per_course: "ไม่เกิน 150 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },

            // --- 8. กลุ่มอาการทางผิวหนังและแผล ---
            {
                name: "ยาครีมพญายอ",
                scientific: "Clinacanthus nutans Cream",
                substitute_for: "Acyclovir cream, TA cream",
                properties: "บรรเทาอาการแมลงกัดต่อย รักษาโรคเริมและงูสวัด ผื่นคัน",
                cpg: "ทาบริเวณที่มีอาการ วันละ 5 ครั้ง",
                caution: "ระวังการเกิดอาการระคายเคือง",
                min_dose_course: "1 หลอด",
                max_dose_course: "2 หลอด",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 60 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
             {
                name: "ยาโลชั่นพญายอ",
                scientific: "Clinacanthus nutans Lotion",
                substitute_for: "Calamine Lotion",
                properties: "บรรเทาอาการผื่นคัน ลมพิษ",
                cpg: "ทาบริเวณที่มีอาการ วันละ 3-4 ครั้ง",
                min_dose_course: "1 ขวด",
                max_dose_course: "2 ขวด",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 45 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาเปลือกมังคุด",
                scientific: "Mangosteen Peel",
                substitute_for: "Povidone iodine",
                properties: "สมานแผล รักษาแผลพุพอง แผลเปื่อย",
                cpg: "ทาบริเวณแผล วันละ 2-3 ครั้ง",
                caution: "ใช้ภายนอกเท่านั้น",
                min_dose_course: "1 ขวด",
                max_dose_course: "2 ขวด",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 60 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาว่านหางจระเข้ (เจล)",
                scientific: "Aloe Vera Gel",
                substitute_for: "Burnol, Silver sulfadiazine",
                properties: "รักษาแผลไฟไหม้ น้ำร้อนลวก",
                cpg: "ทาบริเวณแผล วันละ 3-4 ครั้ง",
                caution: "ระวังการแพ้ในบางราย",
                min_dose_course: "1 หลอด",
                max_dose_course: "2 หลอด",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 60 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาบัวบก (เจล/ครีม)",
                scientific: "Centella asiatica",
                substitute_for: "Scar cream",
                properties: "สมานแผล ลดรอยแผลเป็น",
                cpg: "ทาบริเวณแผล วันละ 2-3 ครั้ง",
                min_dose_course: "1 หลอด",
                max_dose_course: "2 หลอด",
                dispensing_cycle: "30 วัน",
                cost_per_course: "ไม่เกิน 70 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาทาทิงเจอร์ทองพันชั่ง",
                scientific: "Thong Pan Chang Tincture",
                substitute_for: "Topical Antifungal",
                properties: "รักษากลากเกลื้อน โรคผิวหนังจากเชื้อรา",
                cpg: "ทาบริเวณที่มีอาการ วันละ 2 ครั้ง เช้า-เย็น",
                caution: "ใช้ภายนอกเท่านั้น",
                min_dose_course: "1 ขวด",
                max_dose_course: "2 ขวด",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 40 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
             {
                name: "ยาทาแก้เชื้อราที่เล็บ",
                scientific: "Antifungal Tincture",
                substitute_for: "Topical Antifungal",
                properties: "รักษาเชื้อราที่เล็บ (Onychomycosis)",
                cpg: "ทาบริเวณที่เป็น วันละ 2 ครั้ง เช้า-เย็น",
                caution: "ใช้ภายนอกเท่านั้น ระวังอย่าให้เข้าตา",
                min_dose_course: "1 ขวด",
                max_dose_course: "1 ขวด",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 48 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },
            {
                name: "ยาเมล็ดน้อยหน่า",
                scientific: "Custard Apple Seed",
                substitute_for: "Permethrin",
                properties: "กำจัดเหา",
                cpg: "ใช้หมักผมทิ้งไว้ แล้วล้างออก (ระวังอย่าให้เข้าตา)",
                caution: "ระวังอย่าให้เข้าตาอย่างเด็ดขาด เพราะทำให้ระคายเคืองมาก",
                min_dose_course: "1 หลอด",
                max_dose_course: "1 หลอด",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 30 บาท",
                contra_pregnancy: "ปลอดภัย (ใช้ภายนอก)",
                contra_lactation: "ปลอดภัย (ใช้ภายนอก)",
                contra_kidney: "ปลอดภัย (ใช้ภายนอก)",
                contra_liver: "ปลอดภัย (ใช้ภายนอก)"
            },

            // --- 9. กลุ่มอาการสูตินารีเวชและมารดาหลังคลอด ---
            {
                name: "ยาประสะไพล",
                scientific: "Ya Prasa Phlai",
                substitute_for: "Hormonal therapy, Ponstan",
                properties: "แก้ระดูมาไม่ปกติ บรรเทาอาการปวดประจำเดือน ขับน้ำคาวปลา",
                cpg: "รับประทานครั้งละ 1 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ห้ามใช้ในหญิงตกเลือดหลังคลอด และหญิงตั้งครรภ์",
                interaction: ["Aspirin", "Warfarin"],
                min_dose_course: "20 แคปซูล",
                max_dose_course: "40 แคปซูล",
                dispensing_cycle: "14 วัน",
                cost_per_course: "ไม่เกิน 60 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ใช้ได้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
             {
                name: "ยาว่านชักมดลูก",
                scientific: "Curcuma xanthorrhiza",
                substitute_for: "Hormonal Therapy (Menopause)",
                properties: "บรรเทาอาการสตรีวัยหมดประจำเดือน ขับน้ำคาวปลา",
                cpg: "รับประทานครั้งละ 500 มก. - 1 กรัม วันละ 3 ครั้ง หลังอาหาร",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์ และผู้ที่มีปัญหาท่อน้ำดี",
                min_dose_course: "20 แคปซูล",
                max_dose_course: "60 แคปซูล",
                dispensing_cycle: "30 วัน",
                cost_per_course: "ไม่เกิน 100 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ยาบำรุงน้ำนม",
                scientific: "Breast Milk Tonic",
                substitute_for: "Domperidone (Galactogogue effect)",
                properties: "บำรุงน้ำนม เพิ่มปริมาณน้ำนมในสตรีหลังคลอด",
                cpg: "รับประทานครั้งละ 1-2 กรัม วันละ 3 ครั้ง ก่อนอาหาร",
                caution: "ควรระวังในผู้ที่มีประวัติแพ้เกสรดอกไม้",
                min_dose_course: "22,500 มิลลิกรัม",
                max_dose_course: "75,000 มิลลิกรัม",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 93 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "แนะนำให้ใช้",
                contra_kidney: "ใช้ได้",
                contra_liver: "ใช้ได้"
            },

            // --- 10. กลุ่มอาการอื่นๆ ---
            {
                name: "ยาหอมนวโกฐ",
                scientific: "Ya Hom Navakot",
                substitute_for: "Dimenhydrinate",
                properties: "แก้ลมวิงเวียน หน้ามืด ตาลาย ใจสั่น คลื่นไส้",
                cpg: "รับประทานครั้งละ 1 ช้อนชา ละลายน้ำ หรือชนิดเม็ด 5-10 เม็ด ทุก 3-4 ชั่วโมง",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์ ระวังการใช้ร่วมกับยาต้านการแข็งตัวของเลือด",
                interaction: ["Warfarin", "Aspirin"],
                min_dose_course: "1 ขวด/ซอง",
                max_dose_course: "2 ขวด/ซอง",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 50 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
             {
                name: "ยาหอมเทพจิตร",
                scientific: "Ya Hom Thepphachit",
                substitute_for: "Dimenhydrinate",
                properties: "แก้ลมกองละเอียด หน้ามืด ตาลาย บำรุงหัวใจ",
                cpg: "รับประทานครั้งละ 1-1.4 กรัม เมื่อมีอาการ ทุก 3-4 ชั่วโมง",
                caution: "ห้ามใช้ในหญิงตั้งครรภ์ ระวังการใช้ร่วมกับยาต้านการแข็งตัวของเลือด",
                min_dose_course: "1 ขวด/ซอง",
                max_dose_course: "2 ขวด/ซอง",
                dispensing_cycle: "7 วัน",
                cost_per_course: "ไม่เกิน 50 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ระมัดระวัง",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            },
            {
                name: "ตำรับยาประสะกัญชา",
                scientific: "Pra Sa Kan Cha",
                substitute_for: "Benzodiazepines, ยาเจริญอาหาร",
                properties: "ช่วยให้นอนหลับ เจริญอาหาร",
                cpg: "รับประทานครั้งละ 500-1000 มก. ก่อนนอน",
                caution: "เป็นยาเสพติดให้โทษ ต้องสั่งจ่ายโดยแพทย์แผนไทยที่ผ่านการอบรม ห้ามใช้ในผู้ที่มีประวัติโรคจิต หญิงตั้งครรภ์/ให้นมบุตร",
                interaction: ["CNS Depressants (Alcohol, Benzo)"],
                min_dose_course: "14,000 มิลลิกรัม",
                max_dose_course: "14,000 มิลลิกรัม",
                dispensing_cycle: "15 วัน",
                cost_per_course: "ไม่เกิน 330 บาท",
                contra_pregnancy: "ห้ามใช้",
                contra_lactation: "ห้ามใช้",
                contra_kidney: "ระมัดระวัง",
                contra_liver: "ระมัดระวัง"
            }
        ];

        // Header Component
        const Header = () => (
            <div className="bg-green-700 text-white p-4 shadow-md sticky top-0 z-50">
                <div className="container mx-auto flex flex-col md:flex-row justify-between items-center">
                    <div className="flex items-center gap-3 mb-2 md:mb-0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-leaf"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>
                        <div>
                            <div className="flex items-baseline gap-2">
                                <h1 className="text-2xl font-bold">Herbal Medicine Expert</h1>
                                <span className="text-xs bg-yellow-500 text-yellow-900 px-2 py-0.5 rounded-full font-bold">VERSION BETA ทดสอบ</span>
                            </div>
                            <p className="text-xs text-green-100 mt-1">Thai Traditional and Alternative Medicine Group,</p>
                            <p className="text-xs text-green-100">Samut Prakan Provincial Public Health Office</p>
                        </div>
                    </div>
                </div>
            </div>
        );

        // Footer Component
        const Footer = () => (
            <div className="bg-gray-800 text-gray-300 p-6 mt-8 text-center text-sm">
                <p className="font-bold text-white mb-2">จัดทำโดย เภสัชกร จีรภัทร พลายงาม</p>
                <p>Version: 5.0 (Menu 5 Fixed & Database Full) | แก้ไขล่าสุด: {new Date().toLocaleDateString('th-TH')}</p>
                <div className="mt-4 p-2 bg-yellow-900/30 border border-yellow-600/50 rounded inline-block text-yellow-200 text-xs">
                    <span className="font-bold">⚠️ คำเตือน:</span> โปรดตรวจสอบข้อมูลทางวิชาการและประกาศฉบับจริงอีกครั้ง เนื่องจากเป็น Version ทดลอง
                </div>
            </div>
        );

        // SubstituteTab Component
        const SubstituteTab = ({ setActiveTab, setGlobalSelectedHerb }) => {
            const [filterHospital, setFilterHospital] = useState("ทั้งหมด");

            const filteredData = filterHospital === "ทั้งหมด" 
                ? substituteData 
                : substituteData.filter(d => d.hospital === filterHospital);

            const handleHerbClick = (herbName) => {
                const herb = herbDatabase.find(h => h.name === herbName || h.name.includes(herbName) || herbName.includes(h.name));
                if (herb) {
                    setGlobalSelectedHerb(herb);
                    setActiveTab("herbalList");
                }
            };

            return (
                <div className="p-4 space-y-4">
                    <div className="bg-white p-4 rounded-lg custom-shadow">
                        <div className="flex justify-between items-center mb-4">
                            <h2 className="text-xl font-bold text-green-800 flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-file-text"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M16 13H8"/><path d="M16 17H8"/><path d="M10 9H8"/></svg>
                                บัญชียาสมุนไพรทดแทนยาแผนปัจจุบัน
                            </h2>
                            <span className="text-xs font-bold bg-green-100 text-green-800 px-2 py-1 rounded-full border border-green-200">
                                รายการทั้งหมด: {filteredData.length} รายการ
                            </span>
                        </div>
                        
                        <div className="flex flex-wrap gap-2 mb-4">
                            <button 
                                onClick={() => setFilterHospital("ทั้งหมด")}
                                className={`px-4 py-2 rounded-full text-sm transition-colors ${filterHospital === "ทั้งหมด" ? 'bg-green-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-green-50'}`}
                            >
                                ทั้งหมด
                            </button>
                            {hospitals.map(h => (
                                <button 
                                    key={h}
                                    onClick={() => setFilterHospital(h)}
                                    className={`px-4 py-2 rounded-full text-sm transition-colors ${filterHospital === h ? 'bg-green-600 text-white' : 'bg-gray-100 text-gray-600 hover:bg-green-50'}`}
                                >
                                    {h.replace("โรงพยาบาล", "รพ.")}
                                </button>
                            ))}
                        </div>

                        <div className="overflow-x-auto">
                            <table className="w-full text-sm text-left">
                                <thead className="bg-green-100 text-green-900 font-bold uppercase">
                                    <tr>
                                        <th className="p-3 rounded-tl-lg">โรงพยาบาล</th>
                                        <th className="p-3 bg-green-200">สมุนไพรทดแทน</th>
                                        <th className="p-3 text-gray-600">ยาแผนปัจจุบัน</th>
                                        <th className="p-3">ข้อบ่งใช้ (จากไฟล์ Min/Max)</th>
                                        <th className="p-3">เงื่อนไข/ปริมาณ (Min-Max/รอบ)</th>
                                        <th className="p-3 rounded-tr-lg">วันประกาศ</th>
                                    </tr>
                                </thead>
                                <tbody className="divide-y divide-gray-200">
                                    {filteredData.map(item => (
                                        <tr key={item.id} className="hover:bg-green-50">
                                            <td className="p-3 font-semibold text-gray-700">{item.hospital.replace("โรงพยาบาล","รพ.")}</td>
                                            <td 
                                                className="p-3 text-blue-600 font-bold flex items-center gap-1 bg-green-50 cursor-pointer hover:underline"
                                                onClick={() => handleHerbClick(item.herbName)}
                                                title="คลิกเพื่อดูรายละเอียดเพิ่มเติม"
                                            >
                                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-leaf"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"/><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"/></svg>
                                                {item.herbName}
                                            </td>
                                            <td className="p-3 text-red-600 font-medium">{item.modernDrug}</td>
                                            <td className="p-3 text-gray-600">{item.indication}</td>
                                            <td className="p-3 text-gray-600 font-semibold">{item.limit}</td>
                                            <td className="p-3 text-gray-500 text-xs">{item.date}</td>
                                        </tr>
                                    ))}
                                </tbody>
                            </table>
                            {filteredData.length === 0 && <div className="p-8 text-center text-gray-500">ไม่พบข้อมูลสำหรับโรงพยาบาลนี้</div>}
                        </div>
                    </div>
                </div>
            );
        };

        const SymptomTab = ({ setActiveTab, setGlobalSelectedHerb }) => {
            const [selectedSymptom, setSelectedSymptom] = useState(null);

            const checkFirstChoice = (herbNameFull) => {
                const cleanName = herbNameFull.split(" (")[0];
                const matches = substituteData.filter(sub => sub.herbName.includes(cleanName));
                if (matches.length > 0) {
                    const hospitalList = [...new Set(matches.map(m => m.hospital.replace("โรงพยาบาล","รพ.")))];
                    return { isFirstChoice: true, hospitals: hospitalList };
                }
                return { isFirstChoice: false, hospitals: [] };
            };

            const getHerbInfo = (herbNameFull) => {
                return herbDatabase.find(h => h.name === herbNameFull) || {};
            };

            const symptomMapping = {
                "1. กลุ่มอาการปวดกล้ามเนื้อและปวดข้อ": [
                    "ยาขี้ผึ้งไพล สูตรตำรับที่ 1", 
                    "ยาขี้ผึ้งไพล สูตรตำรับที่ 2",
                    "ยาน้ำมันไพล",
                    "ยาเถาวัลย์เปรียง (แคปซูล)",
                    "ยาเถาวัลย์เปรียง (สารสกัด)",
                    "ยาสหัศธารา",
                    "ยาแก้ลมแก้เส้น",
                    "ยาทำลายพระสุเมรุ",
                    "ยาอัมฤทธิ์โอสถ",
                    "ยาทาพระเส้น",
                    "สเปรย์กระดูกไก่ดำ",
                    "ยาพริก (เจล/ครีม)"
                ],
                "2. กลุ่มอาการชาจากอัมพฤกษ์-อัมพาต": [
                    "ยาทำลายพระสุเมรุ",
                    "ยาแก้ลมแก้เส้น",
                    "ยาสหัศธารา"
                ],
                "3. กลุ่มอาการไข้หวัดและภูมิแพ้": [
                    "ยาฟ้าทะลายโจร (แคปซูล/เม็ด)", 
                    "ยาปราบชมพูทวีป",
                    "ยาจันทน์ลีลา",
                    "ยาเขียวหอม"
                ],
                "4. กลุ่มอาการไอและเจ็บคอ": [
                    "ยาแก้ไอมะขามป้อม", 
                    "ยาอมมะแว้ง",
                    "ยาฟ้าทะลายโจร (แคปซูล/เม็ด)"
                ],
                "5. กลุ่มอาการท้องอืด ท้องเฟ้อ": [
                    "ยาแคปซูลขมิ้นชัน", 
                    "ยาขิง (แคปซูล)",
                    "ยาธาตุอบเชย",
                    "ยาประสะกะเพรา",
                    "ยาเบญจกูล",
                    "ยาธาตุบรรจบ"
                ],
                "6. กลุ่มอาการท้องผูกและริดสีดวงทวาร": [
                    "ยามะขามแขก", 
                    "ยาธรณีสันฑะฆาต",
                    "ยาสหทัศน์",
                    "ยาเพชรสังฆาต"
                ],
                "7. กลุ่มอาการท้องเสีย": [
                    "ยาธาตุบรรจบ",
                    "ยาฟ้าทะลายโจร (แคปซูล/เม็ด)"
                ],
                "8. กลุ่มอาการทางผิวหนังและแผล": [
                    "ยาครีมพญายอ",
                    "ยาโลชั่นพญายอ",
                    "ยาเปลือกมังคุด",
                    "ยาว่านหางจระเข้ (เจล)",
                    "ยาบัวบก (เจล/ครีม)",
                    "ยาทาทิงเจอร์ทองพันชั่ง",
                    "ยาทาแก้เชื้อราที่เล็บ",
                    "ยาเมล็ดน้อยหน่า"
                ],
                "9. กลุ่มอาการสูตินารีเวชและมารดาหลังคลอด": [
                    "ยาประสะไพล",
                    "ยาว่านชักมดลูก",
                    "ยาบำรุงน้ำนม"
                ],
                "10. กลุ่มอาการอื่นๆ (วิงเวียน/นอนไม่หลับ)": [
                    "ยาหอมนวโกฐ",
                    "ยาหอมเทพจิตร",
                    "ตำรับยาประสะกัญชา"
                ]
            };

            const handleHerbClick = (herbName) => {
                const herb = herbDatabase.find(h => h.name === herbName);
                if (herb) {
                    setGlobalSelectedHerb(herb);
                    setActiveTab("herbalList");
                }
            };

            return (
                <div className="p-4 max-w-4xl mx-auto">
                    <h2 className="text-xl font-bold text-green-800 mb-6 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-stethoscope"><path d="M4.8 2.3A.3.3 0 0 0 5 2.5h14a.3.3 0 0 0 .2-.2"/><path d="M5 2.5a5 5 0 0 0 10 0"/><path d="M9 13v-6"/><path d="M15 13v-6"/><path d="M7 17a2 2 0 0 0 4 0v-2a2 2 0 0 1 4 0v2a2 2 0 0 0 4 0"/></svg>
                        เลือกยาสมุนไพรตามกลุ่มอาการ
                    </h2>

                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
                        {Object.keys(symptomMapping).map(symptom => (
                            <button
                                key={symptom}
                                onClick={() => setSelectedSymptom(symptom)}
                                className={`p-4 rounded-xl border-2 transition-all flex flex-col items-center justify-center gap-2 text-center h-24
                                    ${selectedSymptom === symptom 
                                        ? 'border-green-600 bg-green-50 text-green-800 shadow-md transform scale-105' 
                                        : 'border-gray-200 bg-white text-gray-600 hover:border-green-300 hover:shadow-sm'}`}
                            >
                                <span className="font-bold text-sm lg:text-base">{symptom}</span>
                            </button>
                        ))}
                    </div>

                    {selectedSymptom && (
                        <div className="space-y-6 animate-fade-in-up">
                            <h3 className="text-lg font-semibold text-gray-800 border-l-4 border-green-500 pl-3">
                                รายการยาในกลุ่ม: {selectedSymptom}
                            </h3>
                            
                            {symptomMapping[selectedSymptom].map((herbName, idx) => {
                                const info = getHerbInfo(herbName);

                                return (
                                    <div 
                                        key={idx} 
                                        className="bg-white rounded-lg border border-gray-200 p-5 hover:shadow-md transition-shadow cursor-pointer"
                                        onClick={() => handleHerbClick(herbName)}
                                    >
                                        <div className="flex justify-between items-start mb-3">
                                            <div>
                                                <h4 className="text-xl font-bold text-green-800 flex items-center gap-2">
                                                    {herbName}
                                                </h4>
                                                <p className="text-sm text-gray-500 italic">{info.scientific}</p>
                                            </div>
                                            <span className="text-blue-500 text-xs flex items-center">
                                                ดูรายละเอียด <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="ml-1 lucide lucide-arrow-right"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                                            </span>
                                        </div>

                                        <div className="grid md:grid-cols-2 gap-4 text-sm mt-4">
                                            <div className="bg-gray-50 p-3 rounded">
                                                <p className="font-semibold text-gray-700 mb-1">สรรพคุณ:</p>
                                                <p>{info.properties}</p>
                                            </div>
                                            <div className="bg-green-50 p-3 rounded border border-green-100">
                                                <p className="font-semibold text-green-800 mb-1">วิธีใช้ (Dosage):</p>
                                                <p>{info.cpg}</p>
                                            </div>
                                        </div>

                                        <div className="mt-3 text-sm">
                                            <p className="font-semibold text-red-600">ข้อควรระวัง:</p>
                                            <p className="text-gray-700">{info.caution}</p>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    )}
                </div>
            );
        };

        const HerbalListTab = ({ selectedHerb, setSelectedHerb }) => {
            return (
                <div className="p-4 max-w-4xl mx-auto">
                    <h2 className="text-xl font-bold text-green-800 mb-6 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-book-open"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>
                        รายการยาสมุนไพรที่มี (Herbal Medicine Catalog)
                    </h2>

                    <div className="grid md:grid-cols-3 gap-6">
                        <div className="md:col-span-1 bg-white rounded-lg shadow border border-green-100 overflow-hidden">
                            <div className="bg-green-50 p-3 border-b border-green-200">
                                <h3 className="font-semibold text-green-800">รายชื่อสมุนไพร</h3>
                            </div>
                            <div className="max-h-[500px] overflow-y-auto">
                                {herbDatabase.map((herb, idx) => (
                                    <button
                                        key={idx}
                                        onClick={() => setSelectedHerb(herb)}
                                        className={`w-full text-left p-3 border-b hover:bg-green-50 transition-colors flex items-center justify-between
                                            ${selectedHerb?.name === herb.name ? 'bg-green-100 text-green-800 font-semibold' : 'text-gray-700'}`}
                                    >
                                        <span>{herb.name.split(" (")[0]}</span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-chevron-right text-gray-400"><path d="m9 18 6-6-6-6"/></svg>
                                    </button>
                                ))}
                            </div>
                        </div>

                        <div className="md:col-span-2">
                            {selectedHerb ? (
                                <div className="bg-white rounded-lg shadow-lg border border-green-200 p-6 animate-fade-in">
                                    <h3 className="text-2xl font-bold text-green-800 mb-1 flex items-center gap-2">
                                        {selectedHerb.name}
                                    </h3>
                                    <p className="text-gray-500 italic mb-4 border-b pb-2">{selectedHerb.scientific}</p>

                                    <div className="space-y-4">
                                        
                                        {/* Substitute Drug Section */}
                                        <div className="bg-indigo-50 p-4 rounded-lg border border-indigo-200">
                                            <h4 className="font-bold text-indigo-800 mb-2 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-arrow-right-left"><path d="m16 3 4 4-4 4"/><path d="M20 7H4"/><path d="m8 21-4-4 4-4"/><path d="M4 17h16"/></svg>
                                                ยาแผนปัจจุบันที่ถูกทดแทน (Substitute For)
                                            </h4>
                                            <p className="text-indigo-900 font-semibold">{selectedHerb.substitute_for || "ไม่ระบุ"}</p>
                                        </div>

                                        {/* New Data Section: Min/Max/Cycle/Cost */}
                                        <div className="bg-yellow-50 p-4 rounded-lg border border-yellow-200 mb-4">
                                            <h4 className="font-bold text-yellow-800 mb-3 flex items-center gap-2 border-b border-yellow-200 pb-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-coins"><circle cx="8" cy="8" r="6"/><path d="M18.09 10.37A6 6 0 1 1 10.34 18"/><path d="M7 6h1v4"/><path d="m16.71 13.88.7.71-2.82 2.82"/></svg>
                                                ข้อมูลการเบิกจ่าย (Reimbursement Info)
                                            </h4>
                                            <div className="grid grid-cols-2 gap-4 text-sm">
                                                <div className="bg-white p-2 rounded border border-yellow-100">
                                                    <p className="text-gray-500 text-xs">ปริมาณยาต่อ Course (MIN)</p>
                                                    <p className="font-semibold text-yellow-900">{selectedHerb.min_dose_course || "-"}</p>
                                                </div>
                                                <div className="bg-white p-2 rounded border border-yellow-100">
                                                    <p className="text-gray-500 text-xs">ปริมาณยาต่อ Course (MAX)</p>
                                                    <p className="font-semibold text-yellow-900">{selectedHerb.max_dose_course || "-"}</p>
                                                </div>
                                                <div className="bg-white p-2 rounded border border-yellow-100">
                                                    <p className="text-gray-500 text-xs">รอบการเบิกจ่าย/คอร์ส</p>
                                                    <p className="font-semibold text-yellow-900">{selectedHerb.dispensing_cycle || "-"}</p>
                                                </div>
                                                <div className="bg-white p-2 rounded border border-yellow-100">
                                                    <p className="text-gray-500 text-xs">อัตราการจ่ายต่อ Course</p>
                                                    <p className="font-semibold text-yellow-900">{selectedHerb.cost_per_course || "-"}</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-green-50 p-4 rounded-lg border border-green-100">
                                            <h4 className="font-bold text-green-800 mb-2 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-info"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                                                สรรพคุณ (Indication)
                                            </h4>
                                            <p className="text-gray-700">{selectedHerb.properties}</p>
                                        </div>

                                        <div className="bg-blue-50 p-4 rounded-lg border border-blue-100">
                                            <h4 className="font-bold text-blue-800 mb-2 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-clipboard-list"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"/><path d="M16 4h2a2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>
                                                ขนาดและวิธีใช้ (Dosage)
                                            </h4>
                                            <p className="text-gray-700">{selectedHerb.cpg}</p>
                                        </div>

                                        <div className="bg-red-50 p-4 rounded-lg border border-red-100">
                                            <h4 className="font-bold text-red-800 mb-2 flex items-center gap-2">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-alert-octagon"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
                                                ข้อควรระวัง (Caution)
                                            </h4>
                                            <p className="text-gray-700 text-sm">{selectedHerb.caution}</p>
                                        </div>

                                        {selectedHerb.interaction && selectedHerb.interaction.length > 0 && (
                                            <div className="mt-2 text-sm text-gray-600 bg-gray-50 p-3 rounded">
                                                <strong>⚠️ Drug Interaction:</strong> {selectedHerb.interaction.join(", ")}
                                            </div>
                                        )}

                                        <div className="mt-6 text-center border-t pt-4">
                                            <a href="https://www.dtam.moph.go.th/" target="_blank" className="text-blue-600 hover:underline text-sm flex items-center justify-center gap-1">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                                                อ้างอิง: กรมการแพทย์แผนไทยและการแพทย์ทางเลือก
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <div className="h-full flex flex-col items-center justify-center text-gray-400 bg-white rounded-lg shadow border border-gray-100 p-10">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-hand-pointing-left mb-4 opacity-50"><path d="M16.992 4h-4.32a4.48 4.48 0 0 0-3.328 1.5 25.12 25.12 0 0 1-2.9 2.87 3.51 3.51 0 0 0-1.27 2.37l-.174 4.5a3.51 3.51 0 0 0 2.22 3.39l.606.22a9 9 0 0 0 3.125.56h6.43a3.5 3.5 0 0 0 3.44-2.88l1.04-5.2a3.5 3.5 0 0 0-2.85-4.14Z"/><path d="m17 4 2-2"/></svg>
                                    <p>กรุณาเลือกสมุนไพรจากรายการทางซ้าย</p>
                                    <p>เพื่อดูรายละเอียด CPG</p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const InteractionTab = () => {
            const [selectedHerbs, setSelectedHerbs] = useState([]);
            const [selectedDrug, setSelectedDrug] = useState("");
            
            const modernDrugs = ["Warfarin", "Aspirin", "Clopidogrel", "Antihypertensives", "Hypoglycemic agents", "Digoxin"];

            const toggleHerb = (herbName) => {
                if (selectedHerbs.includes(herbName)) {
                    setSelectedHerbs(selectedHerbs.filter(h => h !== herbName));
                } else {
                    setSelectedHerbs([...selectedHerbs, herbName]);
                }
            };

            const analyzeInteraction = () => {
                let warnings = [];

                if (selectedDrug) {
                    selectedHerbs.forEach(herbFull => {
                        const herbInfo = herbDatabase.find(h => h.name === herbFull);
                        if (herbInfo && herbInfo.interaction) {
                            const match = herbInfo.interaction.find(i => i.toLowerCase().includes(selectedDrug.split(" ")[0].toLowerCase()));
                            if (match) {
                                warnings.push({
                                    type: "Herb-Drug",
                                    pair: `${herbFull} + ${selectedDrug}`,
                                    risk: "High",
                                    detail: `สมุนไพรนี้อาจตีกับ ${selectedDrug} โปรดระวัง (${match})`
                                });
                            }
                        }
                    });
                }

                if (selectedHerbs.includes("ยาแคปซูลขมิ้นชัน") && selectedHerbs.includes("ขิง (Ginger)")) {
                     warnings.push({ type: "Herb-Herb", pair: "ขมิ้นชัน + ขิง", risk: "Medium", detail: "เสริมฤทธิ์ขับลม อาจร้อนในได้ และระวังเรื่องการแข็งตัวของเลือดหากใช้ร่วมกันปริมาณมาก" });
                }
                 if (selectedHerbs.includes("ยาฟ้าทะลายโจร (แคปซูล/เม็ด)") && selectedHerbs.includes("ขิง (Ginger)")) {
                     warnings.push({ type: "Herb-Herb", pair: "ฟ้าทะลายโจร + ขิง", risk: "Low", detail: "ฟ้าทะลายโจร (เย็น) + ขิง (ร้อน) อาจใช้หักล้างฤทธิ์กันได้ แต่ควรระวังในโรคกระเพาะ" });
                }

                return warnings;
            };

            const results = analyzeInteraction();

            return (
                <div className="p-4 max-w-4xl mx-auto">
                    <h2 className="text-xl font-bold text-green-800 mb-4 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-activity"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                        ตรวจสอบ Drug Interaction
                    </h2>

                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="bg-white p-4 rounded-lg custom-shadow">
                            <h3 className="font-semibold mb-3">1. เลือกสมุนไพรที่ใช้ (เลือกได้หลายตัว)</h3>
                            <div className="space-y-2 max-h-60 overflow-y-auto">
                                {herbDatabase.map(h => (
                                    <label key={h.name} className="flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer border border-transparent hover:border-gray-200">
                                        <input 
                                            type="checkbox" 
                                            checked={selectedHerbs.includes(h.name)}
                                            onChange={() => toggleHerb(h.name)}
                                            className="w-4 h-4 text-green-600 rounded"
                                        />
                                        <span className="text-sm">{h.name}</span>
                                    </label>
                                ))}
                            </div>
                        </div>

                        <div className="bg-white p-4 rounded-lg custom-shadow">
                            <h3 className="font-semibold mb-3">2. เลือกยาแผนปัจจุบันที่ใช้ร่วม</h3>
                            <select 
                                className="w-full p-2 border rounded"
                                value={selectedDrug}
                                onChange={(e) => setSelectedDrug(e.target.value)}
                            >
                                <option value="">-- ไม่มียาแผนปัจจุบัน --</option>
                                {modernDrugs.map(d => <option key={d} value={d}>{d}</option>)}
                            </select>

                            <div className="mt-6">
                                <h3 className="font-semibold mb-3">ผลการตรวจสอบ</h3>
                                {results.length === 0 ? (
                                    <div className="p-4 bg-green-50 text-green-700 rounded text-center text-sm">
                                        ยังไม่พบข้อมูลปฏิกิริยาระหว่างยาที่เลือก (หรือยังไม่ได้เลือกคู่ยาที่มีความเสี่ยง)
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        {results.map((res, i) => (
                                            <div key={i} className="p-3 bg-red-50 border border-red-200 rounded">
                                                <div className="flex items-center gap-2 text-red-700 font-bold text-sm mb-1">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
                                                    {res.type}: {res.pair}
                                                </div>
                                                <p className="text-sm text-gray-700">{res.detail}</p>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const ContraTab = () => {
            const [filter, setFilter] = useState("pregnancy"); 
            const [searchTerm, setSearchTerm] = useState("");

            const filters = [
                { id: "pregnancy", label: "หญิงตั้งครรภ์" },
                { id: "lactation", label: "หญิงให้นมบุตร" },
                { id: "kidney", label: "โรคไต CKD" },
                { id: "liver", label: "โรคตับ" }
            ];

            const getStatusColor = (text) => {
                if (!text) return "bg-gray-100 text-gray-500 border-gray-200"; 
                if (text.includes("ห้าม")) return "bg-red-100 text-red-800 border-red-200";
                if (text.includes("ระวัง") || text.includes("ระมัดระวัง")) return "bg-yellow-100 text-yellow-800 border-yellow-200";
                return "bg-green-100 text-green-800 border-green-200";
            };

            const getPropKey = (f) => `contra_${f}`;

            const filteredHerbs = herbDatabase.filter(herb => 
                herb.name.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className="p-4 max-w-4xl mx-auto">
                    <h2 className="text-xl font-bold text-green-800 mb-6 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-shield-alert"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
                        ตรวจสอบข้อห้ามใช้ (Contraindications)
                    </h2>

                    <div className="mb-6">
                        <div className="relative">
                            <input 
                                type="text" 
                                placeholder="ค้นหาชื่อสมุนไพร..." 
                                className="w-full p-3 pl-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                            />
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="absolute left-3 top-3.5 text-gray-400"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                        </div>
                    </div>

                    <div className="grid grid-cols-2 md:grid-cols-4 gap-2 mb-6">
                        {filters.map(f => (
                            <button
                                key={f.id}
                                onClick={() => setFilter(f.id)}
                                className={`p-3 rounded-lg border text-sm font-semibold flex items-center justify-center gap-2 transition-all
                                    ${filter === f.id ? 'bg-indigo-600 text-white border-indigo-600 shadow-md' : 'bg-white text-gray-600 hover:bg-indigo-50'}`}
                            >
                                <span className="text-xl">{f.icon}</span> {f.label}
                            </button>
                        ))}
                    </div>

                    <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                        {filteredHerbs.map((herb, idx) => {
                            const statusText = herb[getPropKey(filter)] || "ไม่ระบุ"; 
                            const statusClass = getStatusColor(statusText);
                            
                            return (
                                <div key={idx} className="bg-white rounded-lg border border-gray-200 p-4 shadow-sm hover:shadow-md transition-shadow">
                                    <h4 className="font-bold text-gray-800 mb-2">{herb.name}</h4>
                                    <div className={`p-2 rounded text-sm font-medium border ${statusClass} flex items-center gap-2`}>
                                        {statusText.includes("ห้าม") ? (
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-x-circle"><circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/></svg>
                                        ) : statusText.includes("ระวัง") ? (
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
                                        ) : (
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-check-circle"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4 12 14.01l-3-3"/></svg>
                                        )}
                                        {statusText}
                                    </div>
                                </div>
                            );
                        })}
                    </div>
                    {filteredHerbs.length === 0 && (
                        <div className="text-center text-gray-500 py-8">ไม่พบข้อมูลสมุนไพรที่ค้นหา</div>
                    )}
                </div>
            );
        };

        // --- NEW MENU 6: CPGFlowchartTab ---
        const CPGFlowchartTab = () => {
            const [selectedGroup, setSelectedGroup] = useState("musculo");

            // Updated CPG Flows with 6 groups based on "Samunprai CPG File" logic
            const cpgFlows = {
                "musculo": {
                    title: "1. โรคระบบกล้ามเนื้อ (Musculoskeletal System)",
                    steps: [
                        { type: "start", text: "ผู้ป่วยมีอาการปวดกล้ามเนื้อ ปวดข้อ นิ้วล็อค ไหล่ติด" },
                        { type: "arrow" },
                        { type: "diamond", text: "มีสัญญาณอันตราย? (บวมแดงร้อน/ติดเชื้อ/กระดูกหัก)" },
                        { type: "decision", yes: "ส่งต่อแพทย์แผนปัจจุบัน", no: "รักษาทางแผนไทย" },
                        { type: "arrow" },
                        { type: "process", text: "หัตถการ: นวดรักษา / ประคบสมุนไพร / พอกเข่า" },
                        { type: "arrow" },
                        { type: "process", text: "จ่ายยาภายใน: ยาเถาวัลย์เปรียง / ยาสหัศธารา / ยาธรณีสันฑะฆาต" },
                        { type: "arrow" },
                        { type: "process", text: "จ่ายยาภายนอก: ยาขี้ผึ้งไพล / ยาทาพระเส้น / สเปรย์กระดูกไก่ดำ" },
                        { type: "arrow" },
                        { type: "end", text: "นัดติดตามอาการ / สอนท่าบริหารกาย" }
                    ]
                },
                "respiratory": {
                    title: "2. ระบบทางเดินหายใจ (Respiratory System)",
                    steps: [
                        { type: "start", text: "มีอาการไอ เจ็บคอ มีน้ำมูก เป็นหวัด ภูมิแพ้" },
                        { type: "arrow" },
                        { type: "diamond", text: "ไข้สูง > 38.5 / หายใจหอบเหนื่อย?" },
                        { type: "decision", yes: "ส่งต่อแพทย์แผนปัจจุบัน", no: "รักษาทางแผนไทย" },
                        { type: "arrow" },
                        { type: "process", text: "หัตถการ: สุมยา (Inhalation) / กวาดคอ" },
                        { type: "arrow" },
                        { type: "process", text: "อาการไข้: จ่ายยาฟ้าทะลายโจร / ยาจันทน์ลีลา" },
                        { type: "arrow" },
                        { type: "process", text: "อาการไอ: ยาแก้ไอมะขามป้อม / ยาอมมะแว้ง" },
                        { type: "arrow" },
                        { type: "process", text: "ภูมิแพ้: ยาปราบชมพูทวีป (ทานก่อนอาหาร)" },
                        { type: "arrow" },
                        { type: "end", text: "แนะนำจิบน้ำอุ่น / พักผ่อนให้เพียงพอ" }
                    ]
                },
                "gi": {
                    title: "3. ระบบทางเดินอาหาร (Gastrointestinal System)",
                    steps: [
                        { type: "start", text: "ท้องอืด ท้องเฟ้อ / ท้องผูก / ท้องเสีย / ริดสีดวง" },
                        { type: "arrow" },
                        { type: "diamond", text: "ปวดท้องรุนแรง / ถ่ายเป็นเลือดสด / ไข้สูง?" },
                        { type: "decision", yes: "ส่งต่อแพทย์แผนปัจจุบัน", no: "รักษาทางแผนไทย" },
                        { type: "arrow" },
                        { type: "process", text: "ท้องอืด: ขมิ้นชัน / ยาธาตุอบเชย / ยาประสะกะเพรา" },
                        { type: "arrow" },
                        { type: "process", text: "ท้องผูก: ยามะขามแขก / ยาธรณีสันฑะฆาต" },
                        { type: "arrow" },
                        { type: "process", text: "ท้องเสีย (ไม่ติดเชื้อ): ยาธาตุบรรจบ / ยาเหลืองปิดสมุทร" },
                        { type: "arrow" },
                        { type: "process", text: "ริดสีดวงทวาร: ยาเพชรสังฆาต (ทานคู่กับยาระบาย)" },
                        { type: "arrow" },
                        { type: "end", text: "ปรับพฤติกรรมการกิน / ดื่มน้ำสะอาด" }
                    ]
                },
                "skin": {
                    title: "4. ระบบผิวหนัง (Skin System)",
                    steps: [
                        { type: "start", text: "ผื่นคัน ลมพิษ เริม งูสวัด แผลเรื้อรัง สะเก็ดเงิน" },
                        { type: "arrow" },
                        { type: "diamond", text: "แผลติดเชื้อรุนแรง / ลุกลามเข้าตา?" },
                        { type: "decision", yes: "ส่งต่อแพทย์แผนปัจจุบัน", no: "รักษาทางแผนไทย" },
                        { type: "arrow" },
                        { type: "process", text: "เริม/งูสวัด: ยาครีมพญายอ (ทา 5 ครั้ง/วัน)" },
                        { type: "arrow" },
                        { type: "process", text: "แผล/ผื่นคัน: ยาเปลือกมังคุด / ยาว่านหางจระเข้ / โลชั่นพญายอ" },
                        { type: "arrow" },
                        { type: "process", text: "เชื้อรา: ยาทาทิงเจอร์ทองพันชั่ง / ยาทาแก้เชื้อราที่เล็บ" },
                        { type: "arrow" },
                        { type: "end", text: "ดูแลความสะอาด / หลีกเลี่ยงการแกะเกา" }
                    ]
                },
                "detox": {
                    title: "5. ถอนยาพิษเบื่อเมา (Antidote/Detoxification)",
                    steps: [
                        { type: "start", text: "เมาค้าง / แพ้อาหารแสลง / ผิดสำแดง / รับสารพิษ(ไม่ร้ายแรง)" },
                        { type: "arrow" },
                        { type: "diamond", text: "หมดสติ / ชัก / สัญญาณชีพไม่คงที่?" },
                        { type: "decision", yes: "ส่ง ER ทันที (Emergency)", no: "ปฐมพยาบาล/รักษา" },
                        { type: "arrow" },
                        { type: "process", text: "จ่ายยา: ยารางจืด (ถ้ามี) หรือ ยาเขียวหอม (กระทุ้งพิษ)" },
                        { type: "arrow" },
                        { type: "process", text: "กระตุ้นให้ดื่มน้ำสะอาดปริมาณมาก" },
                        { type: "arrow" },
                        { type: "end", text: "สังเกตอาการใกล้ชิด 24 ชม." }
                    ]
                },
                "stroke": { // Added Group 6
                    title: "6. โรคลมอัมพฤกษ์ อัมพาต (Stroke Rehabilitation)",
                    steps: [
                        { type: "start", text: "ผู้ป่วย Stroke ระยะฟื้นฟู (Stable Phase) สัญญาณชีพปกติ" },
                        { type: "arrow" },
                        { type: "diamond", text: "BP > 160/100 mmHg / มีไข้ / เกร็งกระตุก?" },
                        { type: "decision", yes: "งดนวด / ส่งปรึกษาแพทย์", no: "เริ่มโปรแกรมฟื้นฟู" },
                        { type: "arrow" },
                        { type: "process", text: "นวดฟื้นฟูสมรรถภาพ (นวดพื้นฐาน/สัญญาณ/เปิดประตูลม)" },
                        { type: "arrow" },
                        { type: "process", text: "ประคบสมุนไพร / อบสมุนไพร" },
                        { type: "arrow" },
                        { type: "process", text: "จ่ายยา: ยาอัมฤทธิ์โอสถ / ยาธรณีสันฑะฆาต" },
                        { type: "arrow" },
                        { type: "end", text: "สอนกายภาพบำบัด / ฝึกกิจวัตรประจำวัน (ADL)" }
                    ]
                }
            };

            const currentFlow = cpgFlows[selectedGroup];

            return (
                <div className="p-4 max-w-3xl mx-auto">
                    <h2 className="text-xl font-bold text-green-800 mb-6 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-git-fork"><circle cx="12" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><circle cx="18" cy="6" r="3"/><path d="M18 9v1a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V9"/><path d="M12 12v3"/></svg>
                        แผนภูมิแนวทางเวชปฏิบัติ (CPG Flowchart)
                    </h2>

                    <div className="mb-8">
                        <label className="block text-sm font-medium text-gray-700 mb-2">เลือกกลุ่มโรค (Disease Group):</label>
                        <select 
                            className="w-full p-3 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-white"
                            value={selectedGroup}
                            onChange={(e) => setSelectedGroup(e.target.value)}
                        >
                            <option value="musculo">1. โรคระบบกล้ามเนื้อ</option>
                            <option value="respiratory">2. ระบบทางเดินหายใจ</option>
                            <option value="gi">3. ระบบทางเดินอาหาร</option>
                            <option value="skin">4. ระบบผิวหนัง</option>
                            <option value="detox">5. ถอนยาพิษเบื่อเมา</option>
                            <option value="stroke">6. โรคลมอัมพฤกษ์ อัมพาต</option>
                        </select>
                    </div>

                    <div className="flow-container bg-gray-50 p-6 rounded-xl border border-gray-200 shadow-inner">
                        <h3 className="text-center font-bold text-lg text-green-900 mb-6 border-b pb-4">{currentFlow.title}</h3>
                        
                        <div className="flex flex-col items-center w-full">
                            {currentFlow.steps.map((step, idx) => {
                                if (step.type === "start") {
                                    return (
                                        <div key={idx} className="flow-node start">
                                            {step.text}
                                        </div>
                                    );
                                } else if (step.type === "process") {
                                    return (
                                        <div key={idx} className="flow-node process">
                                            {step.text}
                                        </div>
                                    );
                                } else if (step.type === "diamond") {
                                    return (
                                        <div key={idx} className="flow-diamond-wrapper">
                                            <div className="flow-diamond"></div>
                                            <div className="flow-diamond-text">{step.text}</div>
                                        </div>
                                    );
                                } else if (step.type === "decision") {
                                    return (
                                        <div key={idx} className="decision-path">
                                            <div className="decision-line-left text-right pr-2">
                                                <span className="decision-label yes-label">ใช่ (Yes)</span>
                                                <div className="mt-4 p-2 bg-red-50 border border-red-200 rounded text-red-800 text-xs font-bold text-center">{step.yes}</div>
                                            </div>
                                            <div style={{width: '20px'}}></div>
                                            <div className="decision-line-right text-left pl-2">
                                                <span className="decision-label no-label">ไม่ใช่ (No)</span>
                                                <div className="mt-4 p-2 bg-green-50 border border-green-200 rounded text-green-800 text-xs font-bold text-center">{step.no}</div>
                                            </div>
                                        </div>
                                    );
                                } else if (step.type === "arrow") {
                                    return <div key={idx} className="flow-arrow"></div>;
                                } else if (step.type === "end") {
                                    return (
                                        <div key={idx} className="flow-node end mt-2">
                                            {step.text}
                                        </div>
                                    );
                                }
                                return null;
                            })}
                        </div>
                    </div>

                    <div className="mt-8 p-4 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900">
                        <h4 className="font-bold flex items-center gap-2 mb-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="lucide lucide-book"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/></svg>
                            เอกสารอ้างอิง (Reference):
                        </h4>
                        <ul className="list-disc list-inside pl-2 space-y-1">
                            <li>ไฟล์: สมมูรณ์ แนวทางเวชปฏิบัติการใช้ยาสมุนไพร.pdf</li>
                            <li>กรมการแพทย์แผนไทยและการแพทย์ทางเลือก กระทรวงสาธารณสุข</li>
                        </ul>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState("substitute");
            const [globalSelectedHerb, setGlobalSelectedHerb] = useState(null);

            return (
                <div className="min-h-screen flex flex-col pb-10">
                    <Header />
                    
                    <div className="container mx-auto mt-6 px-4">
                        <div className="flex flex-wrap border-b border-gray-200 mb-6 bg-white rounded-t-lg shadow-sm overflow-hidden">
                            {[
                                { id: "substitute", label: "1. บัญชียาทดแทน", icon: "💊" },
                                { id: "herbalList", label: "2. รายการยาสมุนไพร", icon: "📖" },
                                { id: "symptoms", label: "3. เลือกยาสมุนไพรตามกลุ่มอาการ", icon: "🌡️" },
                                { id: "interaction", label: "4. Drug Interaction", icon: "⚠️" },
                                { id: "contra", label: "5. ข้อห้ามใช้", icon: "🚫" },
                                { id: "cpgFlow", label: "6. แผนภูมิแนวทางเวชปฏิบัติ", icon: "🔀" },
                            ].map(tab => (
                                <button
                                    key={tab.id}
                                    onClick={() => setActiveTab(tab.id)}
                                    className={`flex-1 py-4 px-2 text-center text-sm sm:text-base transition-colors duration-200 flex items-center justify-center gap-2
                                        ${activeTab === tab.id ? 'tab-active bg-green-50' : 'tab-inactive hover:bg-gray-50'}`}
                                >
                                    <span>{tab.icon}</span> {tab.label}
                                </button>
                            ))}
                        </div>

                        <div className="animate-fade-in">
                            {activeTab === "substitute" && (
                                <SubstituteTab 
                                    setActiveTab={setActiveTab} 
                                    setGlobalSelectedHerb={setGlobalSelectedHerb} 
                                />
                            )}
                            {activeTab === "symptoms" && (
                                <SymptomTab 
                                    setActiveTab={setActiveTab} 
                                    setGlobalSelectedHerb={setGlobalSelectedHerb} 
                                />
                            )}
                            {activeTab === "interaction" && <InteractionTab />}
                            {activeTab === "contra" && <ContraTab />}
                            {activeTab === "herbalList" && (
                                <HerbalListTab 
                                    selectedHerb={globalSelectedHerb} 
                                    setSelectedHerb={setGlobalSelectedHerb}
                                />
                            )}
                            {activeTab === "cpgFlow" && <CPGFlowchartTab />}
                        </div>
                    </div>

                    <Footer />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>