<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÅ‡∏ú‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà 5 ‡∏ß‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏à‡∏µ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Kanit', sans-serif; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .task-card { transition: all 0.2s ease; }
        .task-card:hover { transform: translateY(-2px); }
        .map-link:hover { text-decoration: underline; }
    </style>
</head>
<body class="bg-sky-50 pb-24">

    <!-- Header Area -->
    <header class="bg-gradient-to-r from-blue-600 to-teal-500 text-white p-6 shadow-xl sticky top-0 z-50">
        <div class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-4">
                <div>
                    <h1 class="text-2xl font-bold flex items-center gap-2">
                        ‚úàÔ∏è ‡∏ó‡∏£‡∏¥‡∏õ‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà & ‡∏à‡∏±‡∏î‡∏ö‡πâ‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏à‡∏µ
                    </h1>
                    <p class="text-blue-100 text-xs opacity-90">‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏ñ‡∏ï‡∏¥‡∏î</p>
                </div>
                <button id="editBtn" onclick="toggleEditMode()" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-full text-sm font-semibold transition-all flex items-center gap-2">
                    <span id="editIcon">‚úèÔ∏è</span> <span id="editText">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ú‡∏ô</span>
                </button>
            </div>
            
            <!-- Progress Tracker -->
            <div class="bg-black/10 rounded-2xl p-3">
                <div class="flex justify-between text-[10px] uppercase font-bold mb-1">
                    <span>‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="w-full bg-white/20 rounded-full h-2">
                    <div id="progressBar" class="bg-yellow-400 h-2 rounded-full transition-all duration-700" style="width: 0%"></div>
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-4xl mx-auto p-4">
        
        <!-- Day Selector Tabs -->
        <div id="dayTabs" class="flex overflow-x-auto gap-2 mb-6 pb-2 no-scrollbar">
            <!-- Tabs will be generated here -->
        </div>

        <!-- Strategy Alert -->
        <div class="bg-white border-l-4 border-orange-400 shadow-sm rounded-r-2xl p-4 mb-6 flex gap-4 items-start">
            <span class="text-2xl">üöó</span>
            <div>
                <h3 class="font-bold text-slate-800 text-sm">‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏ñ‡∏ï‡∏¥‡∏î (‡∏õ‡∏∏‡πä‡∏Å‡∏õ‡∏¥‡πä‡∏Å‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</h3>
                <p class="text-slate-600 text-xs mt-1">
                    ‡πÄ‡∏ä‡πá‡∏Ñ Google Maps ‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å 10 ‡∏ô‡∏≤‡∏ó‡∏µ | ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ä‡πà‡∏ß‡∏á 07:30-09:00 ‡∏ô. | ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏õ‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏Å‡πà‡∏≠‡∏ô 08:30 ‡∏ô. ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÑ‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
                </p>
            </div>
        </div>

        <!-- Content Area -->
        <div id="dayTitleContainer" class="mb-4 px-2">
            <!-- Day Title will be generated here -->
        </div>

        <div id="taskList" class="space-y-3">
            <!-- Tasks will be generated here -->
        </div>

        <!-- Floating Add Button (Only in Edit Mode) -->
        <div id="addBtnContainer" class="mt-6 hidden">
            <button onclick="addTask()" class="w-full py-4 border-2 border-dashed border-blue-300 rounded-2xl text-blue-500 font-bold hover:bg-blue-50 transition-all flex items-center justify-center gap-2">
                ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà
            </button>
        </div>

        <!-- Quick Tips Footer -->
        <div class="mt-10 grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="bg-teal-50 border border-teal-100 p-4 rounded-2xl">
                <h4 class="font-bold text-teal-800 text-sm mb-2">üè† Checklist ‡∏à‡∏±‡∏î‡∏ö‡πâ‡∏≤‡∏ô</h4>
                <ul class="text-xs text-teal-700 space-y-2">
                    <li>‚úÖ ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏•‡∏±‡πä‡∏Å/‡∏ô‡πâ‡∏≥ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏π‡πâ‡∏õ‡∏•‡∏≤‡∏Å‡∏±‡∏î</li>
                    <li>‚úÖ ‡πÅ‡∏¢‡∏Å‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏™‡πà‡∏ñ‡∏∏‡∏á‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</li>
                    <li>‚úÖ ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ "‡∏Å‡πà‡∏≠‡∏ô-‡∏´‡∏•‡∏±‡∏á" ‡πÑ‡∏ß‡πâ‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à</li>
                </ul>
            </div>
            <div class="bg-blue-50 border border-blue-100 p-4 rounded-2xl">
                <h4 class="font-bold text-blue-800 text-sm mb-2">üìç ‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏â‡∏ö‡∏±‡∏ö‡∏¢‡πà‡∏≠</h4>
                <div class="flex flex-wrap gap-2">
                    <a href="https://www.google.com/maps/search/?api=1&query=Central+Plaza+Samut+Prakan" target="_blank" class="bg-white px-2 py-1 rounded-md text-[10px] shadow-sm text-blue-600 font-bold border border-blue-100 hover:bg-blue-600 hover:text-white transition-all">‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•</a>
                    <a href="https://www.google.com/maps/search/?api=1&query=Gateway+at+Bangsue" target="_blank" class="bg-white px-2 py-1 rounded-md text-[10px] shadow-sm text-blue-600 font-bold border border-blue-100 hover:bg-blue-600 hover:text-white transition-all">‡∏´‡πâ‡∏≤‡∏á Gateway ‡∏ö‡∏≤‡∏á‡∏ã‡∏∑‡πà‡∏≠</a>
                    <a href="https://www.google.com/maps/search/?api=1&query=Suan+Nong+Nooch+Pattaya" target="_blank" class="bg-white px-2 py-1 rounded-md text-[10px] shadow-sm text-blue-600 font-bold border border-blue-100 hover:bg-blue-600 hover:text-white transition-all">‡∏™‡∏ß‡∏ô‡∏ô‡∏á‡∏ô‡∏∏‡∏ä</a>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Status Bar -->
    <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-slate-200 p-4 flex justify-between items-center md:hidden shadow-[0_-5px_15px_rgba(0,0,0,0.05)]">
        <div>
            <p class="text-[10px] text-slate-400 font-bold uppercase">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</p>
            <p id="currentDayStatus" class="text-sm font-bold text-blue-600">Day 1: ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</p>
        </div>
        <div id="dayProgressBadge" class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold">
            0/0 ‡∏á‡∏≤‡∏ô
        </div>
    </div>

    <script>
        // --- Data Structure ---
        let days = [
            {
                date: "31 ‡∏ò.‡∏Ñ.",
                title: "‡∏ß‡∏±‡∏ô‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≤‡∏Å‡∏±‡∏î",
                tasks: [
                    { id: 101, time: "08:30", activity: "‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô 1: ‡∏¢‡πâ‡∏≤‡∏¢‡∏ï‡∏π‡πâ‡πÅ‡∏•‡∏∞‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏•‡∏≤‡∏Å‡∏±‡∏î 3 ‡∏ä‡∏±‡πâ‡∏ô + 36 ‡πÉ‡∏ö", type: "home", completed: false, map: "" },
                    { id: 102, time: "12:30", activity: "‡∏û‡∏±‡∏Å‡∏ó‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡πâ‡∏≤‡∏ô (‡∏£‡πâ‡∏≤‡∏ô‡πÇ‡∏õ‡∏£‡∏î)", type: "food", completed: false, map: "" },
                    { id: 103, time: "13:30", activity: "‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô 2: ‡∏à‡∏±‡∏î‡πÉ‡∏ï‡πâ‡∏ö‡∏±‡∏ô‡πÑ‡∏î", type: "home", completed: false, map: "" },
                    { id: 104, time: "18:30", activity: "‡∏ó‡∏≤‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡πÄ‡∏¢‡πá‡∏ô‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß", type: "food", completed: false, map: "" }
                ]
            },
            {
                date: "1 ‡∏°.‡∏Ñ.",
                title: "‡∏ß‡∏±‡∏ô‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≤‡∏¢‡∏ä‡∏¥‡∏•‡∏•‡πå",
                tasks: [
                    { id: 201, time: "08:30", activity: "‡πÑ‡∏õ Central Plaza (‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á)", type: "travel", completed: false, map: "Central+Plaza" },
                    { id: 202, time: "11:30", activity: "‡∏ó‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡πÉ‡∏ô‡∏´‡πâ‡∏≤‡∏á", type: "food", completed: false, map: "Central+Plaza+Restaurants" },
                    { id: 203, time: "13:30", activity: "‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô 3: ‡∏à‡∏±‡∏î‡∏´‡πâ‡∏≠‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£", type: "home", completed: false, map: "" },
                    { id: 204, time: "18:30", activity: "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô ‡∏î‡∏π‡∏ã‡∏µ‡∏£‡∏µ‡∏™‡πå‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà", type: "relax", completed: false, map: "" }
                ]
            },
            {
                date: "2 ‡∏°.‡∏Ñ.",
                title: "‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡∏ç‡∏≤‡∏ï‡∏¥‡∏ö‡∏≤‡∏á‡∏ã‡∏∑‡πà‡∏≠ & ‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á",
                tasks: [
                    { id: 301, time: "08:00", activity: "‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏õ‡∏ö‡∏≤‡∏á‡∏ã‡∏∑‡πà‡∏≠ (‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏£‡∏ñ‡∏ï‡∏¥‡∏î)", type: "travel", completed: false, map: "Bang+Sue+Grand+Station" },
                    { id: 302, time: "09:30", activity: "‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° ‡∏ô‡πâ‡∏≤‡∏ï‡∏¥‡πâ‡∏ß (‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢)", type: "relax", completed: false, map: "" },
                    { id: 303, time: "11:30", activity: "‡∏ó‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà Gateway ‡∏ö‡∏≤‡∏á‡∏ã‡∏∑‡πà‡∏≠ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: Kobe Steakhouse / ‡∏™‡πâ‡∏°‡∏ï‡∏≥‡∏ô‡∏±‡∏ß / MK)", type: "food", completed: false, map: "Gateway+at+Bangsue" },
                    { id: 304, time: "13:00", activity: "‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏≤‡∏á Gateway ‡∏ö‡∏≤‡∏á‡∏ã‡∏∑‡πà‡∏≠", type: "travel", completed: false, map: "Gateway+at+Bangsue" },
                    { id: 305, time: "15:30", activity: "‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏û‡∏±‡∏ó‡∏¢‡∏≤", type: "travel", completed: false, map: "" }
                ]
            },
            {
                date: "3 ‡∏°.‡∏Ñ.",
                title: "‡∏ó‡∏£‡∏¥‡∏õ‡∏û‡∏±‡∏ó‡∏¢‡∏≤ ‡∏™‡∏ß‡∏ô‡∏ô‡∏á‡∏ô‡∏∏‡∏ä",
                tasks: [
                    { id: 401, time: "07:30", activity: "‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏π‡πà ‡∏™‡∏ß‡∏ô‡∏ô‡∏á‡∏ô‡∏∏‡∏ä ‡∏û‡∏±‡∏ó‡∏¢‡∏≤", type: "travel", completed: false, map: "Suan+Nong+Nooch+Tropical+Garden" },
                    { id: 402, time: "09:30", activity: "‡∏ä‡∏°‡∏™‡∏ß‡∏ô ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ (‡∏Ñ‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏¢‡∏≠‡∏∞)", type: "travel", completed: false, map: "Suan+Nong+Nooch+Viewpoint" },
                    { id: 403, time: "13:00", activity: "‡∏ó‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡πÉ‡∏ô‡∏û‡∏±‡∏ó‡∏¢‡∏≤", type: "food", completed: false, map: "Best+Restaurants+Pattaya" },
                    { id: 404, time: "15:00", activity: "‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£", type: "travel", completed: false, map: "" }
                ]
            },
            {
                date: "4 ‡∏°.‡∏Ñ.",
                title: "‡∏à‡∏±‡∏î‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡∏ü‡πâ‡∏≤",
                tasks: [
                    { id: 501, time: "08:30", activity: "‡∏á‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô 4: ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô‡∏ü‡πâ‡∏≤ (‡∏à‡∏∏‡∏î‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢)", type: "home", completed: false, map: "" },
                    { id: 502, time: "12:30", activity: "‡∏ó‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏â‡∏•‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå", type: "food", completed: false, map: "" },
                    { id: 503, time: "14:00", activity: "‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏¢‡∏≤‡∏ß‡πÜ ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô", type: "relax", completed: false, map: "" }
                ]
            }
        ];

        let activeDay = 0;
        let isEditMode = false;

        // --- Core Functions ---

        function init() {
            renderTabs();
            renderContent();
            updateProgress();
        }

        function renderTabs() {
            const container = document.getElementById('dayTabs');
            container.innerHTML = days.map((day, idx) => `
                <button onclick="changeDay(${idx})" class="flex-shrink-0 min-w-[90px] px-4 py-3 rounded-2xl border-2 transition-all flex flex-col items-center ${activeDay === idx ? 'bg-blue-600 border-blue-600 text-white shadow-lg shadow-blue-200' : 'bg-white border-transparent text-slate-500 hover:bg-blue-50'}">
                    <span class="text-[10px] font-bold uppercase opacity-80">${day.date}</span>
                    <span class="text-sm font-bold">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${idx + 1}</span>
                </button>
            `).join('');
        }

        function renderContent() {
            const titleContainer = document.getElementById('dayTitleContainer');
            titleContainer.innerHTML = `
                <div class="flex items-center gap-3">
                    <span class="bg-blue-600 text-white px-3 py-1 rounded-lg text-xs font-bold">${days[activeDay].date}</span>
                    <h2 class="text-xl font-bold text-slate-800">${days[activeDay].title}</h2>
                </div>
            `;

            const taskContainer = document.getElementById('taskList');
            taskContainer.innerHTML = days[activeDay].tasks.map(task => `
                <div class="task-card bg-white p-4 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4 ${task.completed ? 'opacity-60' : ''}">
                    <!-- Checkbox -->
                    <div onclick="toggleTask(${task.id})" class="cursor-pointer w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${task.completed ? 'bg-green-500 border-green-500 text-white' : 'border-slate-300 hover:border-blue-500'}">
                        ${task.completed ? '‚úì' : ''}
                    </div>

                    <!-- Time & Activity -->
                    <div class="flex-grow min-w-0">
                        <div class="flex items-center gap-2">
                            ${isEditMode 
                                ? `<input type="text" value="${task.time}" onchange="updateTask(${task.id}, 'time', this.value)" class="text-xs font-bold text-blue-600 w-16 bg-slate-50 border-none rounded p-0.5">`
                                : `<span class="text-xs font-bold text-blue-600">${task.time} ‡∏ô.</span>`
                            }
                            ${task.map ? `<a href="https://www.google.com/maps/search/?api=1&query=${task.map}" target="_blank" class="text-[10px] text-teal-600 font-bold bg-teal-50 px-2 rounded-full map-link">üìç ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</a>` : ''}
                        </div>
                        ${isEditMode
                            ? `<input type="text" value="${task.activity}" onchange="updateTask(${task.id}, 'activity', this.value)" class="text-sm font-medium text-slate-700 w-full bg-slate-50 border-none rounded p-1 mt-1">`
                            : `<p class="text-sm md:text-base font-medium text-slate-700 truncate ${task.completed ? 'line-through' : ''}">${task.activity}</p>`
                        }
                    </div>

                    <!-- Action Icon / Delete -->
                    <div class="flex-shrink-0">
                        ${isEditMode 
                            ? `<button onclick="deleteTask(${task.id})" class="text-red-400 p-2 hover:bg-red-50 rounded-lg">üóëÔ∏è</button>`
                            : `<span class="text-xl opacity-40">${getTypeIcon(task.type)}</span>`
                        }
                    </div>
                </div>
            `).join('');

            // Update Mobile Status
            document.getElementById('currentDayStatus').innerText = `Day ${activeDay + 1}: ${days[activeDay].title}`;
            document.getElementById('dayProgressBadge').innerText = `${days[activeDay].tasks.filter(t => t.completed).length}/${days[activeDay].tasks.length} ‡∏á‡∏≤‡∏ô`;
        }

        function getTypeIcon(type) {
            const icons = { home: 'üè†', travel: 'üöó', food: 'üç±', relax: 'üì∫' };
            return icons[type] || 'üìÖ';
        }

        function changeDay(idx) {
            activeDay = idx;
            renderTabs();
            renderContent();
        }

        function toggleTask(id) {
            days[activeDay].tasks = days[activeDay].tasks.map(t => 
                t.id === id ? { ...t, completed: !t.completed } : t
            );
            renderContent();
            updateProgress();
        }

        function updateProgress() {
            let total = 0;
            let completed = 0;
            days.forEach(d => {
                total += d.tasks.length;
                completed += d.tasks.filter(t => t.completed).length;
            });
            const percent = total > 0 ? Math.round((completed / total) * 100) : 0;
            document.getElementById('progressBar').style.width = percent + '%';
            document.getElementById('progressPercent').innerText = percent + '%';
        }

        function toggleEditMode() {
            isEditMode = !isEditMode;
            document.getElementById('editText').innerText = isEditMode ? '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô' : '‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ú‡∏ô';
            document.getElementById('editIcon').innerText = isEditMode ? 'üíæ' : '‚úèÔ∏è';
            document.getElementById('editBtn').classList.toggle('bg-green-500', isEditMode);
            document.getElementById('addBtnContainer').classList.toggle('hidden', !isEditMode);
            renderContent();
        }

        function updateTask(id, field, value) {
            days[activeDay].tasks = days[activeDay].tasks.map(t => 
                t.id === id ? { ...t, [field]: value } : t
            );
            updateProgress();
        }

        function deleteTask(id) {
            days[activeDay].tasks = days[activeDay].tasks.filter(t => t.id !== id);
            renderContent();
            updateProgress();
        }

        function addTask() {
            const newTask = {
                id: Date.now(),
                time: "00:00",
                activity: "‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÉ‡∏´‡∏°‡πà",
                type: "relax",
                completed: false,
                map: ""
            };
            days[activeDay].tasks.push(newTask);
            renderContent();
            updateProgress();
        }

        // Initialize on load
        window.onload = init;
    </script>
</body>
</html>