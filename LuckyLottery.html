<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro-Statistical Forecaster (V4 Global)</title>
    
    <!-- Google Fonts: Noto Sans Thai -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Noto Sans Thai"', 'sans-serif'],
            }
          }
        }
      }
    </script>

    <!-- React & ReactDOM (UMD Build) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    
    <!-- Babel Standalone (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏≠‡∏°‡πÑ‡∏û‡∏•‡πå JSX ‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Noto Sans Thai', sans-serif; background-color: #f8fafc; margin: 0; padding: 0; }
        @media print {
            body { background-color: white; }
            .print\:hidden { display: none !important; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback, useMemo } = React;

        // ---------------------------------------------------------
        // ‡∏ä‡∏∏‡∏î‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô SVG ‡πÅ‡∏ö‡∏ö‡∏ù‡∏±‡∏á‡∏ï‡∏±‡∏ß (‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ lucide-react)
        // ---------------------------------------------------------
        const ICONS = {
          Calculator: '<rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/>',
          Star: '<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>',
          Printer: '<polyline points="6 9 6 2 18 2 18 9"/><path d="M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"/><rect width="12" height="8" x="6" y="14"/>',
          AlertTriangle: '<path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>',
          Calendar: '<rect width="18" height="18" x="3" y="4" rx="2" ry="2"/><line x1="16" x2="16" y1="2" y2="6"/><line x1="8" x2="8" y1="2" y2="6"/><line x1="3" x2="21" y1="10" y2="10"/>',
          ChevronDown: '<polyline points="6 9 12 15 18 9"/>',
          Loader2: '<path d="M21 12a9 9 0 1 1-6.219-8.56"/>',
          PieChart: '<path d="M21.21 15.89A10 10 0 1 1 8.11 2.79"/><path d="M22 12A10 10 0 0 0 12 2v10z"/>',
          Clock: '<circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/>',
          Sparkles: '<path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>',
          Zap: '<polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>',
          TrendingUp: '<polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/>',
          Award: '<circle cx="12" cy="8" r="6"/><path d="M15.477 12.89 17 22l-5-3-5 3 1.523-9.11"/>',
          Cpu: '<rect width="16" height="16" x="4" y="4" rx="2"/><rect width="6" height="6" x="9" y="9" rx="1"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/>',
          History: '<path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M12 7v5l4 2"/>',
          CheckCircle2: '<circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/>',
          BookOpen: '<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/>',
          Info: '<circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/>',
          X: '<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',
          ListChecks: '<path d="m3 17 2 2 4-4"/><path d="m3 7 2 2 4-4"/><path d="M13 6h8"/><path d="M13 12h8"/><path d="M13 18h8"/>',
          BarChart3: '<path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/>',
          Flame: '<path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>',
          Snowflake: '<line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/><path d="m20 16-4-4 4-4"/><path d="m4 8 4 4-4 4"/><path d="m16 4-4 4-4-4"/><path d="m8 20 4-4 4 4"/>',
          Compass: '<circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/>'
        };

        const Icon = ({ name, className = "w-6 h-6", ...props }) => (
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinelinejoin="round" className={className} dangerouslySetInnerHTML={{ __html: ICONS[name] }} {...props} />
        );

        const Calculator = (p) => <Icon name="Calculator" {...p} />;
        const Star = (p) => <Icon name="Star" {...p} />;
        const Printer = (p) => <Icon name="Printer" {...p} />;
        const AlertTriangle = (p) => <Icon name="AlertTriangle" {...p} />;
        const Calendar = (p) => <Icon name="Calendar" {...p} />;
        const ChevronDown = (p) => <Icon name="ChevronDown" {...p} />;
        const Loader2 = (p) => <Icon name="Loader2" {...p} />;
        const PieChart = (p) => <Icon name="PieChart" {...p} />;
        const Clock = (p) => <Icon name="Clock" {...p} />;
        const Sparkles = (p) => <Icon name="Sparkles" {...p} />;
        const Zap = (p) => <Icon name="Zap" {...p} />;
        const TrendingUp = (p) => <Icon name="TrendingUp" {...p} />;
        const Award = (p) => <Icon name="Award" {...p} />;
        const Cpu = (p) => <Icon name="Cpu" {...p} />;
        const History = (p) => <Icon name="History" {...p} />;
        const CheckCircle2 = (p) => <Icon name="CheckCircle2" {...p} />;
        const BookOpen = (p) => <Icon name="BookOpen" {...p} />;
        const Info = (p) => <Icon name="Info" {...p} />;
        const X = (p) => <Icon name="X" {...p} />;
        const ListChecks = (p) => <Icon name="ListChecks" {...p} />;
        const BarChart3 = (p) => <Icon name="BarChart3" {...p} />;
        const Flame = (p) => <Icon name="Flame" {...p} />;
        const Snowflake = (p) => <Icon name="Snowflake" {...p} />;
        const Compass = (p) => <Icon name="Compass" {...p} />;


        // ---------------------------------------------------------
        // ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡πÜ
        // ---------------------------------------------------------
        const LOTTERY_TYPES = [
          { 
            id: 'thai', 
            name: '‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏¥‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏£‡∏±‡∏ê‡∏ö‡∏≤‡∏•‡πÑ‡∏ó‡∏¢', 
            description: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 10 ‡∏õ‡∏µ ‡πÅ‡∏•‡∏∞‡∏ß‡∏á‡πÇ‡∏Ñ‡∏à‡∏£‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß',
            formats: [
              { label: '‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏ó‡∏µ‡πà 1 (6 ‡∏ï‡∏±‡∏ß)', digits: 6, count: 1 },
              { label: '‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 3 ‡∏ï‡∏±‡∏ß', digits: 3, count: 2 },
              { label: '‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 2 ‡∏ï‡∏±‡∏ß', digits: 2, count: 1 }
            ]
          },
          { 
            id: 'lao', 
            name: '‡∏™‡∏•‡∏≤‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤ (‡∏´‡∏ß‡∏¢‡∏•‡∏≤‡∏ß)', 
            description: '‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå ‡∏ú‡∏™‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏±‡∏Å‡∏©‡∏≤‡∏õ‡∏Å‡∏£‡∏ì‡πå',
            formats: [
              { label: '‡∏ä‡∏∏‡∏î 4 ‡∏ï‡∏±‡∏ß', digits: 4, count: 1 },
              { label: '‡∏ä‡∏∏‡∏î 3 ‡∏ï‡∏±‡∏ß', digits: 3, count: 1 },
              { label: '‡∏ä‡∏∏‡∏î 2 ‡∏ï‡∏±‡∏ß', digits: 2, count: 1 }
            ]
          },
          { 
            id: 'hanoi', 
            name: '‡∏™‡∏•‡∏≤‡∏Å‡∏Æ‡∏≤‡∏ô‡∏≠‡∏¢ (‡πÄ‡∏ß‡∏µ‡∏¢‡∏î‡∏ô‡∏≤‡∏°)', 
            description: '‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô ‡∏î‡πâ‡∏ß‡∏¢‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏°‡∏≠‡∏ô‡∏ï‡∏¥‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏•',
            formats: [
              { label: '‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏õ‡∏Å‡∏ï‡∏¥ (3 ‡∏ï‡∏±‡∏ß‡∏ö‡∏ô)', digits: 3, count: 2 },
              { label: '‡∏û‡∏¥‡πÄ‡∏®‡∏©/‡∏õ‡∏Å‡∏ï‡∏¥ (2 ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏á)', digits: 2, count: 2 }
            ]
          }
        ];

        const DAY_ASTROLOGY = [
          { day: '‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', star: '‚òÄÔ∏è ‡∏î‡∏≤‡∏ß‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', time: '09:09 - 11:11 ‡∏ô.', luckyDigits: ['1', '6', '9'] },
          { day: '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', star: 'üåô ‡∏î‡∏≤‡∏ß‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', time: '08:08 - 10:10 ‡∏ô.', luckyDigits: ['2', '7', '4'] },
          { day: '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', star: '‚òÑÔ∏è ‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', time: '10:10 - 12:12 ‡∏ô.', luckyDigits: ['3', '8', '5'] },
          { day: '‡∏û‡∏∏‡∏ò', star: 'üåç ‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò', time: '14:14 - 16:16 ‡∏ô.', luckyDigits: ['4', '2', '8'] },
          { day: '‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', star: 'ü™ê ‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', time: '11:11 - 13:13 ‡∏ô.', luckyDigits: ['5', '1', '9'] },
          { day: '‡∏®‡∏∏‡∏Å‡∏£‡πå', star: '‚ú® ‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå', time: '06:06 - 08:08 ‡∏ô.', luckyDigits: ['6', '3', '5'] },
          { day: '‡πÄ‡∏™‡∏≤‡∏£‡πå', star: 'ü™ê ‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏£‡πå', time: '13:13 - 15:15 ‡∏ô.', luckyDigits: ['7', '0', '8'] }
        ];

        const DETAILED_ASTROLOGY = [
          "‡∏î‡∏≤‡∏ß‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå (‚òÄÔ∏è) ‡πÄ‡∏õ‡πá‡∏ô‡∏î‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏Ç‡∏≠‡∏á‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏™‡πà‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏£‡∏á ‡∏û‡∏•‡∏±‡∏á‡∏≠‡∏≥‡∏ô‡∏≤‡∏à ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏î‡πÄ‡∏î‡πà‡∏ô ‡∏§‡∏Å‡∏©‡πå‡∏á‡∏≤‡∏°‡∏¢‡∏≤‡∏°‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏ä‡∏Ñ‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏ß‡∏á‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏°‡∏µ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà‡∏ä‡πà‡∏ß‡∏á‡∏™‡∏≤‡∏¢ 09:09 - 11:11 ‡∏ô. ‡∏ó‡∏¥‡∏®‡∏°‡∏á‡∏Ñ‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡πÅ‡∏ú‡∏á‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏°‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÇ‡∏ó‡∏ô‡∏™‡∏µ‡πÅ‡∏î‡∏á ‡∏™‡∏µ‡∏™‡πâ‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏µ‡∏ó‡∏≠‡∏á ‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÅ‡∏™‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏´‡∏•‡∏≠‡∏î‡πÑ‡∏ü ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô‡∏ï‡∏∞‡πÄ‡∏Å‡∏µ‡∏¢‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏ä‡∏Ñ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏≤‡∏á‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡πÑ‡∏´‡∏•‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤ ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡πÅ‡∏ù‡∏á‡∏û‡∏•‡∏±‡∏á‡πÅ‡∏´‡πà‡∏á‡∏î‡∏≤‡∏ß‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå‡∏Ñ‡∏∑‡∏≠ 1, 6 ‡πÅ‡∏•‡∏∞ 9",
          "‡∏î‡∏≤‡∏ß‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå (üåô) ‡πÄ‡∏õ‡πá‡∏ô‡∏î‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏Ç‡∏≠‡∏á‡∏î‡∏ß‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏µ‡πÄ‡∏™‡∏ô‡πà‡∏´‡πå ‡πÅ‡∏•‡∏∞‡∏à‡∏¥‡∏ô‡∏ï‡∏ô‡∏≤‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏• ‡∏§‡∏Å‡∏©‡πå‡∏á‡∏≤‡∏°‡∏¢‡∏≤‡∏°‡∏î‡∏µ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤‡∏ï‡∏£‡∏π‡πà‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô‡∏™‡∏ö‡∏≤‡∏¢ 08:08 - 10:10 ‡∏ô. ‡∏ó‡∏¥‡∏®‡∏°‡∏á‡∏Ñ‡∏•‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å ‡∏ó‡∏¥‡∏®‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏∏‡πà‡∏á‡πÄ‡∏£‡∏∑‡∏≠‡∏á ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏™‡∏ï‡∏£‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏ó‡πâ‡∏ß‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏á‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥ ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥ ‡∏ó‡∏∞‡πÄ‡∏•‡∏™‡∏≤‡∏ö ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏π‡πâ‡∏Å‡∏î‡∏ô‡πâ‡∏≥ ‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏° ‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏Å‡∏±‡∏ö‡πÅ‡∏°‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏î‡πá‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡πÇ‡∏•‡πà‡∏á‡πÄ‡∏ï‡∏µ‡∏¢‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ß‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏´‡∏•‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏î‡∏≤‡∏ß‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡∏Ñ‡∏∑‡∏≠ 2, 7 ‡πÅ‡∏•‡∏∞ 4",
          "‡∏î‡∏≤‡∏ß‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£ (‚òÑÔ∏è) ‡∏î‡∏≤‡∏ß‡∏ò‡∏≤‡∏ï‡∏∏‡∏•‡∏°‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡∏´‡∏≤‡∏ç ‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏î‡πá‡∏î‡∏Ç‡∏≤‡∏î ‡∏§‡∏Å‡∏©‡πå‡∏°‡∏á‡∏Ñ‡∏•‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ñ‡∏∑‡∏≠ 10:10 - 12:12 ‡∏ô. ‡∏ó‡∏¥‡∏®‡∏°‡∏á‡∏Ñ‡∏•‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏ä‡∏Ñ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ ‡∏Ñ‡∏ß‡∏£‡∏´‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ó‡∏∞‡∏°‡∏±‡∏î‡∏ó‡∏∞‡πÅ‡∏°‡∏á ‡∏û‡∏π‡∏î‡∏à‡∏≤‡∏â‡∏∞‡∏â‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏á‡∏´‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£ ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤‡∏¢‡∏ó‡∏´‡∏≤‡∏£ ‡∏Å‡πà‡∏≠‡∏ô‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏à‡∏¥‡∏ï‡πÉ‡∏´‡πâ‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á ‡πÑ‡∏°‡πà‡∏•‡∏±‡∏á‡πÄ‡∏•‡πÉ‡∏à ‡∏´‡∏¢‡∏¥‡∏ö‡πÉ‡∏ö‡πÑ‡∏´‡∏ô‡πÄ‡∏≠‡∏≤‡πÉ‡∏ö‡∏ô‡∏±‡πâ‡∏ô ‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡πÅ‡∏û‡∏ó‡∏¢‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡πÇ‡∏•‡∏´‡∏¥‡∏ï‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∞‡πÄ‡∏î‡∏≤‡∏∞‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏Ñ‡πÉ‡∏´‡∏ç‡πà ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏´‡∏ô‡∏∏‡∏ô‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠ 3, 8 ‡πÅ‡∏•‡∏∞ 5",
          "‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò (üåç) ‡∏î‡∏≤‡∏ß‡πÅ‡∏´‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤ ‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£ ‡πÅ‡∏•‡∏∞‡πÑ‡∏´‡∏ß‡∏û‡∏£‡∏¥‡∏ö‡∏õ‡∏è‡∏¥‡∏†‡∏≤‡∏ì (‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥) ‡∏§‡∏Å‡∏©‡πå‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢ 14:14 - 16:16 ‡∏ô. ‡∏ó‡∏¥‡∏®‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡πÉ‡∏ï‡πâ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏≤‡∏á‡∏û‡∏π‡∏î‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏à‡∏£‡∏à‡∏≤ ‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏¢‡πâ‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ú‡∏π‡πâ‡∏Ñ‡∏ô‡∏û‡∏•‡∏∏‡∏Å‡∏û‡∏•‡πà‡∏≤‡∏ô ‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏û‡∏π‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏á‡∏Ñ‡∏•‡∏ï‡∏•‡∏≠‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏ß‡∏±‡∏ô ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏ä‡∏Ñ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏£‡∏™‡∏ß‡∏°‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡πÇ‡∏ó‡∏ô‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏´‡∏ô‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏î‡∏≤‡∏ß‡∏û‡∏∏‡∏ò‡∏Ñ‡∏∑‡∏≠ 4, 2 ‡πÅ‡∏•‡∏∞ 8",
          "‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ (ü™ê) ‡∏î‡∏≤‡∏ß‡∏ò‡∏≤‡∏ï‡∏∏‡∏î‡∏¥‡∏ô ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏ç‡∏≤ ‡∏Ñ‡∏∏‡∏ì‡∏ò‡∏£‡∏£‡∏° ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà‡πÉ‡∏´‡πâ‡πÇ‡∏ä‡∏Ñ ‡∏§‡∏Å‡∏©‡πå‡∏ó‡∏≠‡∏á‡∏Ñ‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏±‡∏ö‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ñ‡∏∑‡∏≠ 11:11 - 13:13 ‡∏ô. ‡∏ó‡∏¥‡∏®‡∏°‡∏á‡∏Ñ‡∏•‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏π‡∏°‡∏µ‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏™‡∏ß‡∏°‡πÅ‡∏ß‡πà‡∏ô‡∏ï‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ß‡∏±‡∏î ‡∏™‡∏ñ‡∏≤‡∏ô‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡∏ó‡∏£‡∏¥‡∏Ñ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏£‡∏™‡∏ß‡∏î‡∏°‡∏ô‡∏ï‡πå ‡∏ô‡∏±‡πà‡∏á‡∏™‡∏°‡∏≤‡∏ò‡∏¥ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡∏≠‡∏û‡∏£‡∏à‡∏≤‡∏Å‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏π‡∏õ ‡∏û‡∏£‡∏∞‡∏™‡∏á‡∏Ü‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡πà‡∏≠‡πÅ‡∏°‡πà‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏û‡∏£‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏¥‡πà‡∏á‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡∏¥‡∏î‡∏ó‡∏≤‡∏á‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤ ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏ï‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡∏Ñ‡∏∑‡∏≠ 5, 1 ‡πÅ‡∏•‡∏∞ 9",
          "‡∏î‡∏≤‡∏ß‡∏®‡∏∏‡∏Å‡∏£‡πå (‚ú®) ‡∏î‡∏≤‡∏ß‡∏ò‡∏≤‡∏ï‡∏∏‡∏ô‡πâ‡∏≥ ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å ‡∏®‡∏¥‡∏•‡∏õ‡∏∞ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏° ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏á‡∏Ñ‡∏±‡πà‡∏á ‡∏§‡∏Å‡∏©‡πå‡πÄ‡∏ö‡∏¥‡∏Å‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏Ñ‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤ 06:06 - 08:08 ‡∏ô. ‡∏ó‡∏¥‡∏®‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏Ñ‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏¢‡πâ‡∏°‡πÅ‡∏à‡πà‡∏°‡πÉ‡∏™ ‡πÅ‡∏ï‡πà‡∏á‡∏ï‡∏±‡∏ß‡∏î‡∏π‡∏î‡∏µ‡∏°‡∏µ‡∏™‡πÑ‡∏ï‡∏•‡πå ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏á‡∏´‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡πÅ‡∏•‡∏∞‡∏î‡∏π‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏ï‡∏≤ ‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏° ‡∏™‡∏ß‡∏°‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡∏™‡∏∞‡∏≠‡πâ‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏µ‡∏ß‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏õ‡∏´‡∏¢‡∏¥‡∏ö‡∏™‡∏•‡∏≤‡∏Å ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ö‡∏ß‡∏Å‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏≤ ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏´‡∏ô‡∏∏‡∏ô‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠ 6, 3 ‡πÅ‡∏•‡∏∞ 5",
          "‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏≤‡∏£‡πå (ü™ê) ‡∏î‡∏≤‡∏ß‡∏ò‡∏≤‡∏ï‡∏∏‡πÑ‡∏ü (‡πÑ‡∏ü‡∏™‡∏∏‡∏°‡∏Ç‡∏≠‡∏ô) ‡∏ï‡∏±‡∏ß‡πÅ‡∏ó‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô‡πÅ‡∏•‡∏∞‡πÇ‡∏ä‡∏Ñ‡∏•‡∏≤‡∏†‡∏Å‡πâ‡∏≠‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏≠‡∏Ñ‡∏≠‡∏¢ ‡∏§‡∏Å‡∏©‡πå‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡∏ö‡πà‡∏≤‡∏¢ 13:13 - 15:15 ‡∏ô. ‡∏ó‡∏¥‡∏®‡∏°‡∏á‡∏Ñ‡∏•‡∏Ñ‡∏∑‡∏≠‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÉ‡∏ï‡πâ ‡∏Ñ‡∏ß‡∏£‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏•‡∏≤‡∏Å‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡∏Ç‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏î‡∏π‡∏™‡∏π‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï ‡∏ú‡∏π‡πâ‡∏™‡∏π‡∏á‡∏≠‡∏≤‡∏¢‡∏∏ ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ú‡∏á‡∏´‡∏ß‡∏¢‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ç‡∏ï‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏∂‡∏Å‡πÉ‡∏´‡∏ç‡πà ‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏î‡∏ß‡∏á‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏™‡∏µ‡πà‡πÄ‡∏ó‡πâ‡∏≤ ‡πÑ‡∏ñ‡πà‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡πÇ‡∏Ñ‡∏Å‡∏£‡∏∞‡∏ö‡∏∑‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏≥‡∏ö‡∏∏‡∏ç‡πÇ‡∏•‡∏á‡∏®‡∏û‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÇ‡∏ä‡∏Ñ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡πâ‡∏≤‡∏¢‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏î‡∏µ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏Ñ‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á ‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏ó‡∏£‡∏á‡∏û‡∏•‡∏±‡∏á‡∏Ñ‡∏∑‡∏≠ 7, 0 ‡πÅ‡∏•‡∏∞ 8"
        ];

        const CALC_METHODS = [
          { id: 'freq', name: '‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà (Data)', desc: '‡∏≠‡∏¥‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ 10 ‡∏õ‡∏µ (2-3‡∏ï‡∏±‡∏ß)', icon: 'üìä' },
          { id: 'astro', name: '‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÑ‡∏ó‡∏¢ (Astro)', desc: '‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡πÅ‡∏•‡∏∞‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏±‡∏ô', icon: '‚≠ê' },
          { id: 'numerology', name: '‡πÄ‡∏•‡∏Ç‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏™‡∏≤‡∏Å‡∏• (Numerology)', desc: '‡∏û‡∏•‡∏±‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏™‡∏≤‡∏Å‡∏•', icon: 'üî¢' },
          { id: 'fengshui', name: '‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢ & ‡∏≠‡∏µ‡πâ‡∏à‡∏¥‡∏á (Feng Shui)', desc: '‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ò‡∏≤‡∏ï‡∏∏ 8,9,6', icon: '‚òØÔ∏è' },
          { id: 'bayes', name: '‡∏ó‡∏§‡∏©‡∏é‡∏µ‡πÄ‡∏ö‡∏¢‡πå (Bayesian)', desc: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç', icon: 'üß†' }
        ];

        const GET_CALENDAR_LUCKY_NUMBERS = (dateObj) => {
          const month = dateObj.getMonth(); 
          const date = dateObj.getDate();
          const year = dateObj.getFullYear() + 543; 

          let numbers = [];
          let eventName = "";

          if (month === 0) { eventName = "‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà/‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏π"; numbers = ['1', '6', '9', '2', '5']; }
          else if (month === 1) { eventName = "‡∏ß‡∏≤‡πÄ‡∏•‡∏ô‡πÑ‡∏ó‡∏ô‡πå/‡∏°‡∏≤‡∏Ü‡∏ö‡∏π‡∏ä‡∏≤"; numbers = ['1', '4', '8', '3']; }
          else if (month === 2) { eventName = "‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏°‡∏µ‡∏ô‡∏≤‡∏Ñ‡∏°/‡∏ß‡∏±‡∏ô‡∏õ‡∏¥‡∏î‡πÄ‡∏ó‡∏≠‡∏°"; numbers = ['3', '5', '7']; }
          else if (month === 3) { eventName = "‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå/‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏ó‡∏¢"; numbers = ['1', '3', '4', '5', '9']; }
          else if (month === 4) { eventName = "‡∏ß‡∏±‡∏ô‡πÅ‡∏£‡∏á‡∏á‡∏≤‡∏ô/‡∏û‡∏∑‡∏ä‡∏°‡∏á‡∏Ñ‡∏•"; numbers = ['1', '5', '9']; }
          else if (month === 5) { eventName = "‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô/‡∏Å‡∏•‡∏≤‡∏á‡∏õ‡∏µ"; numbers = ['6', '2', '8']; }
          else if (month === 6) { eventName = "‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏£‡∏£‡∏©‡∏≤/‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏≤‡∏á‡∏®‡∏≤‡∏™‡∏ô‡∏≤"; numbers = ['2', '7', '8']; }
          else if (month === 7) { eventName = "‡∏ß‡∏±‡∏ô‡πÅ‡∏°‡πà‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥"; numbers = ['1', '2', '8', '9']; }
          else if (month === 8) { eventName = "‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô"; numbers = ['9', '5', '4']; }
          else if (month === 9) { eventName = "‡∏≠‡∏≠‡∏Å‡∏û‡∏£‡∏£‡∏©‡∏≤/‡∏õ‡∏¥‡∏¢‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä"; numbers = ['2', '3', '5', '9']; }
          else if (month === 10) { eventName = "‡∏•‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏ó‡∏á"; numbers = ['1', '1', '2']; }
          else if (month === 11) { eventName = "‡∏™‡πà‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏õ‡∏µ‡πÄ‡∏Å‡πà‡∏≤/‡∏ß‡∏±‡∏ô‡∏û‡πà‡∏≠"; numbers = ['5', '8', '9']; }

          numbers.push((year % 100).toString()[0]);
          numbers.push((year % 100).toString()[1]);
          if(date >= 10) {
            numbers.push(date.toString()[0]);
            numbers.push(date.toString()[1]);
          } else {
            numbers.push(date.toString());
          }

          return { event: eventName, digits: [...new Set(numbers)] }; 
        };

        const THAI_LOTTERY_2D_STATS = {
          "00": 1, "01": 0, "02": 4, "03": 1, "04": 1, "05": 1, "06": 6, "07": 2, "08": 1, "09": 4,
          "10": 2, "11": 1, "12": 0, "13": 0, "14": 6, "15": 3, "16": 3, "17": 2, "18": 1, "19": 2,
          "20": 3, "21": 2, "22": 2, "23": 3, "24": 1, "25": 2, "26": 3, "27": 1, "28": 1, "29": 3,
          "30": 2, "31": 3, "32": 4, "33": 3, "34": 0, "35": 2, "36": 3, "37": 3, "38": 3, "39": 2,
          "40": 2, "41": 0, "42": 2, "43": 1, "44": 2, "45": 2, "46": 4, "47": 2, "48": 1, "49": 1,
          "50": 3, "51": 1, "52": 2, "53": 4, "54": 1, "55": 2, "56": 1, "57": 2, "58": 4, "59": 3,
          "60": 1, "61": 2, "62": 1, "63": 1, "64": 2, "65": 4, "66": 1, "67": 3, "68": 2, "69": 4,
          "70": 2, "71": 3, "72": 1, "73": 4, "74": 1, "75": 2, "76": 1, "77": 1, "78": 2, "79": 3,
          "80": 1, "81": 2, "82": 2, "83": 3, "84": 1, "85": 4, "86": 2, "87": 1, "88": 1, "89": 3,
          "90": 2, "91": 1, "92": 4, "93": 2, "94": 3, "95": 1, "96": 2, "97": 3, "98": 4, "99": 2
        };

        const THAI_LOTTERY_3D_STATS = {
          "421": 3,
          "001": 2, "002": 2, "008": 2, "014": 2, "019": 2, "022": 2, "041": 2, "044": 2, "057": 2, "061": 2,
          "063": 2, "066": 2, "068": 2, "070": 2, "079": 2, "084": 2, "092": 2, "094": 2, "098": 2, "101": 2,
          "106": 2, "111": 2, "119": 2, "137": 2, "154": 2, "157": 2, "167": 2, "169": 2, "180": 2, "187": 2,
          "194": 2, "196": 2, "200": 2, "202": 2, "209": 2, "210": 2, "213": 2, "228": 2, "231": 2, "234": 2,
          "236": 2, "239": 2, "250": 2, "261": 2, "269": 2, "272": 2, "278": 2, "279": 2, "280": 2, "282": 2,
          "284": 2, "288": 2, "290": 2, "291": 2, "297": 2, "299": 2, "307": 2, "308": 2, "309": 2, "325": 2,
          "329": 2, "336": 2, "338": 2, "345": 2, "354": 2, "358": 2, "360": 2, "364": 2, "370": 2, "372": 2,
          "374": 2, "375": 2, "379": 2, "386": 2, "389": 2, "390": 2, "391": 2, "398": 2, "403": 2, "404": 2,
          "405": 2, "409": 2, "411": 2, "416": 2, "420": 2, "422": 2, "427": 2, "435": 2, "443": 2, "446": 2,
          "447": 2, "453": 2, "458": 2, "461": 2, "465": 2, "467": 2, "470": 2, "476": 2, "478": 2, "481": 2,
          "483": 2, "485": 2, "490": 2, "501": 2, "506": 2, "510": 2, "515": 2, "517": 2, "519": 2, "523": 2,
          "524": 2, "530": 2, "533": 2, "538": 2, "540": 2, "544": 2, "556": 2, "558": 2, "562": 2, "568": 2,
          "570": 2, "576": 2, "578": 2, "584": 2, "589": 2, "590": 2, "594": 2, "595": 2, "600": 2, "602": 2,
          "605": 2, "609": 2, "613": 2, "615": 2, "628": 2, "630": 2, "639": 2, "642": 2, "648": 2, "650": 2,
          "652": 2, "656": 2, "661": 2, "669": 2, "671": 2, "673": 2, "678": 2, "684": 2, "689": 2, "690": 2,
          "693": 2, "701": 2, "702": 2, "708": 2, "712": 2, "715": 2, "723": 2, "726": 2, "730": 2, "734": 2,
          "740": 2, "743": 2, "748": 2, "756": 2, "764": 2, "765": 2, "768": 2, "774": 2, "778": 2, "782": 2,
          "785": 2, "789": 2, "792": 2, "795": 2, "800": 2, "803": 2, "805": 2, "812": 2, "816": 2, "823": 2,
          "825": 2
        };

        // ---------------------------------------------------------
        // ‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏¢‡πà‡∏≠‡∏¢ (Components)
        // ---------------------------------------------------------
        const CustomStyles = () => (
          <style dangerouslySetInnerHTML={{__html: `
            @keyframes fall {
              0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
              100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
            }
            @keyframes float {
              0%, 100% { transform: translateY(0px); }
              50% { transform: translateY(-8px); }
            }
            @keyframes marquee {
              0% { transform: translateX(100%); }
              100% { transform: translateX(-100%); }
            }
            .confetti-piece {
              position: fixed;
              top: -20px;
              z-index: 50;
              pointer-events: none;
              animation: fall linear forwards;
            }
            .floating-anim {
              animation: float 2.5s ease-in-out infinite;
            }
            .marquee-container {
              overflow: hidden;
              white-space: nowrap;
              width: 100%;
            }
            .marquee-content {
              display: inline-block;
              animation: marquee 25s linear infinite;
            }
            .reveal-pop {
              animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
              opacity: 0;
              transform: scale(0.5);
            }
            @keyframes popIn {
              0% { opacity: 0; transform: scale(0.5) translateY(20px); }
              100% { opacity: 1; transform: scale(1) translateY(0); }
            }
            .text-gradient {
              background-clip: text;
              -webkit-background-clip: text;
              -webkit-text-fill-color: transparent;
              background-image: linear-gradient(to right, #ec4899, #8b5cf6, #3b82f6);
            }
            @keyframes right-marquee-scroll {
              0% { transform: translateY(100vh); }
              100% { transform: translateY(-100%); }
            }
            @keyframes text-blink {
              0%, 100% { opacity: 1; text-shadow: 0 0 10px #ff6600, 0 0 20px #ff6600; }
              50% { opacity: 0.2; text-shadow: none; }
            }
            .right-edge-marquee {
              position: fixed;
              top: 0;
              right: 0;
              height: 100vh;
              width: 40px;
              display: flex;
              align-items: center;
              justify-content: center;
              overflow: hidden;
              z-index: 100;
              pointer-events: none;
              background: linear-gradient(to left, rgba(0,0,0,0.03), transparent);
            }
            .right-edge-text {
              writing-mode: vertical-rl;
              white-space: nowrap;
              color: #ff6600;
              font-weight: 900;
              font-size: 1.15rem;
              letter-spacing: 0.15em;
              animation: right-marquee-scroll 25s linear infinite, text-blink 1.5s ease-in-out infinite;
            }
            .no-scrollbar::-webkit-scrollbar {
              display: none;
            }
            .no-scrollbar {
              -ms-overflow-style: none; 
              scrollbar-width: none; 
            }
            .stat-bar-fill {
              transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
            }
          `}} />
        );

        const Confetti = () => {
          const colors = ['#ec4899', '#8b5cf6', '#3b82f6', '#10b981', '#f59e0b', '#ef4444'];
          const pieces = Array.from({ length: 100 }).map((_, i) => ({
            id: i,
            left: `${Math.random() * 100}vw`,
            animationDuration: `${Math.random() * 3 + 2}s`,
            animationDelay: `${Math.random() * 1}s`,
            backgroundColor: colors[Math.floor(Math.random() * colors.length)],
            width: `${Math.random() * 10 + 5}px`,
            height: `${Math.random() * 10 + 5}px`,
            borderRadius: Math.random() > 0.5 ? '50%' : '0%',
          }));

          return (
            <div className="fixed inset-0 pointer-events-none z-50 overflow-hidden">
              {pieces.map(p => (
                <div 
                  key={p.id}
                  className="confetti-piece shadow-sm"
                  style={{
                    left: p.left,
                    animationDuration: p.animationDuration,
                    animationDelay: p.animationDelay,
                    backgroundColor: p.backgroundColor,
                    width: p.width,
                    height: p.height
                  }}
                />
              ))}
            </div>
          );
        };

        // ---------------------------------------------------------
        // ‡πÄ‡∏°‡∏ô‡∏Ñ‡∏≠‡∏°‡πÇ‡∏û‡πÄ‡∏ô‡∏ô‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å
        // ---------------------------------------------------------
        function AstroForecaster() {
          const [selectedLottery, setSelectedLottery] = useState(LOTTERY_TYPES[0].id);
          const [selectedMethods, setSelectedMethods] = useState(['freq', 'astro']); 
          const [drawDate, setDrawDate] = useState('');
          const [isGenerating, setIsGenerating] = useState(false);
          const [result, setResult] = useState(null);
          const [showConfetti, setShowConfetti] = useState(false);
          
          const [showInfoModal, setShowInfoModal] = useState(false);
          const [showStatsModal, setShowStatsModal] = useState(false);
          const [statsTab, setStatsTab] = useState('2d'); 

          const todayDateStr = new Date().toISOString().split('T')[0];

          const getDetailedAstroInfo = () => {
            if (!drawDate) return null;
            const dayOfWeek = new Date(drawDate).getDay();
            return DETAILED_ASTROLOGY[dayOfWeek];
          };

          const statsData2D = useMemo(() => {
            const arr = Object.entries(THAI_LOTTERY_2D_STATS).map(([num, count]) => ({ num, count }));
            arr.sort((a, b) => b.count - a.count);
            return {
              top10: arr.slice(0, 10),
              zeroes: arr.filter(x => x.count === 0),
              all: arr,
              maxCount: Math.max(...arr.map(x => x.count))
            };
          }, []);

          const statsData3D = useMemo(() => {
            const arr = Object.entries(THAI_LOTTERY_3D_STATS).map(([num, count]) => ({ num, count }));
            arr.sort((a, b) => b.count - a.count);
            return {
              top10: arr.slice(0, 10),
              all: arr,
              maxCount: Math.max(...arr.map(x => x.count))
            };
          }, []);

          const playSuccessSound = useCallback(() => {
            try {
              const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
              const playNote = (frequency, startTime, duration, type = 'sine') => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                oscillator.type = type;
                oscillator.frequency.value = frequency;
                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                gainNode.gain.setValueAtTime(0.1, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.00001, startTime + duration);
                oscillator.stop(startTime + duration);
              };
              const now = audioCtx.currentTime;
              playNote(523.25, now, 0.6, 'sine');
              playNote(659.25, now + 0.1, 0.6, 'sine');
              playNote(783.99, now + 0.2, 0.6, 'sine');
              playNote(1046.50, now + 0.3, 1.5, 'triangle');
            } catch (e) {
              console.log("Audio not supported");
            }
          }, []);

          const toggleMethod = (methodId) => {
            setSelectedMethods(prev => {
              if (prev.includes(methodId)) {
                if (prev.length === 1) return prev;
                return prev.filter(id => id !== methodId);
              } else {
                return [...prev, methodId];
              }
            });
          };

          const generateIntelligentDigits = (length, astroDigits, calendarDigits, activeMethods, currentLotteryId) => {
            let finalNum = "";

            if (activeMethods.includes('freq') && currentLotteryId === 'thai') {
              const useHistoryChance = Math.random();
              
              if (length === 2 && useHistoryChance < 0.35) {
                const frequent2D = Object.entries(THAI_LOTTERY_2D_STATS)
                  .filter(([num, count]) => count >= 3)
                  .map(([num]) => num);
                if (frequent2D.length > 0) return frequent2D[Math.floor(Math.random() * frequent2D.length)];
              }
              
              if (length === 3 && useHistoryChance < 0.30) {
                const frequent3D = Object.keys(THAI_LOTTERY_3D_STATS);
                return frequent3D[Math.floor(Math.random() * frequent3D.length)];
              }
            }

            let digitWeights = [10, 10, 10, 10, 10, 10, 10, 10, 10, 10];

            if (activeMethods.includes('astro') && astroDigits) {
              astroDigits.forEach(d => { digitWeights[parseInt(d)] += 25; });
            }

            if (calendarDigits && calendarDigits.length > 0) {
              calendarDigits.forEach(d => { digitWeights[parseInt(d)] += 20; });
            }

            if (activeMethods.includes('fengshui')) {
              digitWeights[8] += 30;
              digitWeights[9] += 30;
              digitWeights[6] += 20;
            }

            if (activeMethods.includes('numerology')) {
              [1, 4, 5, 9].forEach(d => { digitWeights[d] += 15; });
            }

            if (activeMethods.includes('bayes')) {
              digitWeights[0] = Math.max(1, digitWeights[0] - 5);
              digitWeights[7] = Math.max(1, digitWeights[7] - 5);
            }

            const pickWeightedDigit = () => {
              let totalWeight = digitWeights.reduce((sum, w) => sum + w, 0);
              let randomVal = Math.random() * totalWeight;
              for (let i = 0; i < 10; i++) {
                randomVal -= digitWeights[i];
                if (randomVal <= 0) return i.toString();
              }
              return "0";
            };

            for (let i = 0; i < length; i++) {
              finalNum += pickWeightedDigit();
            }
            return finalNum;
          };

          const handleGenerate = (e) => {
            e.preventDefault();
            if (!drawDate) return;

            if (drawDate < todayDateStr) {
              alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ß‡∏±‡∏ô‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Ñ‡∏£‡∏±‡∏ö‡∏ö‡∏≠‡∏™");
              return;
            }

            setIsGenerating(true);
            setResult(null);
            setShowConfetti(false);

            setTimeout(() => {
              const currentLottery = LOTTERY_TYPES.find(l => l.id === selectedLottery);
              const drawDateObj = new Date(drawDate);
              
              const dayOfWeek = drawDateObj.getDay();
              const astroOfDay = DAY_ASTROLOGY[dayOfWeek];
              const calendarData = GET_CALENDAR_LUCKY_NUMBERS(drawDateObj);

              const generatedSets = currentLottery.formats.map(format => {
                const levelsData = [
                  { name: '‡πÄ‡∏ï‡πá‡∏á 1 (‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î)', color: 'text-rose-600', bg: 'bg-rose-50', border: 'border-rose-200', glow: 'from-rose-400 to-rose-600' },
                  { name: '‡πÄ‡∏ï‡πá‡∏á 2 (‡πÄ‡∏•‡∏Ç‡∏£‡∏≠‡∏á‡πÄ‡∏î‡πà‡∏ô)', color: 'text-emerald-600', bg: 'bg-emerald-50', border: 'border-emerald-200', glow: 'from-emerald-400 to-emerald-600' },
                  { name: '‡πÄ‡∏ï‡πá‡∏á 3 (‡∏°‡πâ‡∏≤‡∏°‡∏∑‡∏î‡∏™‡∏≠‡∏î‡πÅ‡∏ó‡∏£‡∏Å)', color: 'text-violet-600', bg: 'bg-violet-50', border: 'border-violet-200', glow: 'from-violet-400 to-violet-600' }
                ];

                const options = levelsData.map(lvl => {
                  const num = generateIntelligentDigits(
                    format.digits, 
                    astroOfDay.luckyDigits, 
                    calendarData.digits,
                    selectedMethods,
                    currentLottery.id
                  );
                  
                  let historyCount = 0;
                  let isRealData = false;
                  let showHistory = false;

                  if (currentLottery.id === 'thai') {
                    if (format.digits === 2) {
                      showHistory = true;
                      historyCount = THAI_LOTTERY_2D_STATS[num] !== undefined ? THAI_LOTTERY_2D_STATS[num] : 0;
                      isRealData = true;
                    } else if (format.digits === 3) {
                      showHistory = true;
                      historyCount = THAI_LOTTERY_3D_STATS[num] !== undefined ? THAI_LOTTERY_3D_STATS[num] : 0;
                      isRealData = true;
                    }
                  }

                  return {
                    ...lvl,
                    value: num,
                    history: historyCount,
                    isRealData: isRealData,
                    showHistory: showHistory
                  };
                });

                return {
                  label: format.label,
                  options: options
                };
              });

              const baseConfidence = Math.floor(Math.random() * (85 - 75 + 1) + 75);
              const confidenceBonus = selectedMethods.length * 2;
              const finalConfidence = Math.min(99, baseConfidence + confidenceBonus);

              setResult({
                dateStr: drawDateObj.toLocaleDateString('th-TH', { year: 'numeric', month: 'long', day: 'numeric' }),
                dayName: astroOfDay.day,
                lotteryName: currentLottery.name,
                methodsUsed: CALC_METHODS.filter(m => selectedMethods.includes(m.id)),
                star: astroOfDay.star,
                auspiciousTime: astroOfDay.time,
                calendarEvent: calendarData.event,
                calendarDigits: calendarData.digits.join(', '),
                confidence: finalConfidence,
                sets: generatedSets,
                seed: Math.random().toString(36).substring(7).toUpperCase()
              });

              setIsGenerating(false);
              setShowConfetti(true);
              playSuccessSound();

              setTimeout(() => setShowConfetti(false), 5000);

            }, 2800); 
          };

          return (
            <div className="min-h-screen bg-slate-50 text-slate-800 font-sans print:bg-white print:m-0 overflow-x-hidden relative">
              <CustomStyles />
              {showConfetti && <Confetti />}

              {/* Stats Dashboard Modal */}
              {showStatsModal && (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm print:hidden">
                  <div className="bg-white rounded-3xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in-95 duration-200 relative flex flex-col">
                    <div className="sticky top-0 bg-white/95 backdrop-blur-sm border-b border-slate-100 p-6 flex justify-between items-center z-10 rounded-t-3xl">
                      <div className="flex items-center space-x-3">
                        <div className="p-3 bg-gradient-to-br from-rose-500 to-indigo-600 text-white rounded-xl shadow-md">
                          <BarChart3 className="w-6 h-6" />
                        </div>
                        <div>
                          <h2 className="text-xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-slate-800 to-indigo-800">‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏´‡∏ß‡∏¢‡πÑ‡∏ó‡∏¢ 10 ‡∏õ‡∏µ</h2>
                          <p className="text-sm text-slate-500 font-medium">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡∏û.‡∏®. 2559 - 2569)</p>
                        </div>
                      </div>
                      <button 
                        onClick={() => setShowStatsModal(false)}
                        className="p-2 bg-slate-100 hover:bg-rose-100 text-slate-500 hover:text-rose-600 rounded-full transition-colors"
                      >
                        <X className="w-6 h-6" />
                      </button>
                    </div>

                    <div className="p-6 md:p-8 flex-1 overflow-y-auto">
                      <div className="flex p-1 bg-slate-100 rounded-xl mb-8 w-full max-w-sm mx-auto shadow-inner">
                        <button
                          onClick={() => setStatsTab('2d')}
                          className={`flex-1 py-2.5 px-4 rounded-lg font-bold text-sm transition-all ${statsTab === '2d' ? 'bg-white text-indigo-700 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
                        >
                          ‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 2 ‡∏ï‡∏±‡∏ß
                        </button>
                        <button
                          onClick={() => setStatsTab('3d')}
                          className={`flex-1 py-2.5 px-4 rounded-lg font-bold text-sm transition-all ${statsTab === '3d' ? 'bg-white text-indigo-700 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}
                        >
                          ‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 3 ‡∏ï‡∏±‡∏ß
                        </button>
                      </div>

                      {statsTab === '2d' && (
                        <div className="space-y-10 animate-in fade-in duration-300">
                          <div className="bg-slate-50 rounded-2xl p-6 border border-slate-100 shadow-sm">
                            <h3 className="font-bold text-lg text-slate-800 mb-6 flex items-center">
                              <Flame className="w-5 h-5 text-rose-500 mr-2" />
                              TOP 10 ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡∏ö‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (Hot Numbers)
                            </h3>
                            <div className="space-y-4">
                              {statsData2D.top10.map((item, i) => (
                                <div key={item.num} className="flex items-center group">
                                  <span className="w-10 text-right font-mono font-bold text-slate-600 mr-4 group-hover:text-indigo-600">{item.num}</span>
                                  <div className="flex-1 bg-slate-200 h-6 rounded-full overflow-hidden relative">
                                    <div 
                                      className="h-full bg-gradient-to-r from-indigo-500 to-rose-500 rounded-full stat-bar-fill shadow-inner"
                                      style={{ width: `${(item.count / statsData2D.maxCount) * 100}%` }}
                                    ></div>
                                  </div>
                                  <span className="w-16 text-left font-bold text-sm text-slate-700 ml-4 bg-white px-2 py-1 rounded-md border border-slate-200 shadow-sm">
                                    {item.count} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                                  </span>
                                </div>
                              ))}
                            </div>
                          </div>

                          <div className="bg-blue-50/50 rounded-2xl p-6 border border-blue-100 shadow-sm">
                            <h3 className="font-bold text-lg text-blue-900 mb-4 flex items-center">
                              <Snowflake className="w-5 h-5 text-blue-500 mr-2" />
                              ‡πÄ‡∏•‡∏Ç‡∏£‡∏≠‡πÅ‡∏ï‡∏Å (‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏≠‡∏Å‡πÄ‡∏•‡∏¢‡πÉ‡∏ô 10 ‡∏õ‡∏µ)
                            </h3>
                            <div className="flex flex-wrap gap-3">
                              {statsData2D.zeroes.map(item => (
                                <div key={item.num} className="bg-white border-2 border-blue-200 text-blue-700 font-mono font-bold text-xl px-4 py-2 rounded-xl shadow-sm hover:scale-105 transition-transform">
                                  {item.num}
                                </div>
                              ))}
                            </div>
                          </div>

                          <div>
                            <h3 className="font-bold text-lg text-slate-800 mb-4 border-b border-slate-200 pb-2">‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (00-99)</h3>
                            <div className="grid grid-cols-5 sm:grid-cols-10 gap-2">
                              {statsData2D.all.sort((a,b) => a.num.localeCompare(b.num)).map(item => (
                                <div key={item.num} className={`flex flex-col items-center justify-center p-2 rounded-lg border ${item.count >= 4 ? 'bg-rose-50 border-rose-200' : item.count === 0 ? 'bg-blue-50 border-blue-200' : 'bg-white border-slate-200'}`}>
                                  <span className={`font-mono font-bold ${item.count >= 4 ? 'text-rose-700' : item.count === 0 ? 'text-blue-600' : 'text-slate-700'}`}>{item.num}</span>
                                  <span className="text-[10px] text-slate-400 font-medium">{item.count} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>
                                </div>
                              ))}
                            </div>
                          </div>
                        </div>
                      )}

                      {statsTab === '3d' && (
                        <div className="space-y-6 animate-in fade-in duration-300">
                          <div className="bg-slate-50 rounded-2xl p-6 border border-slate-100 shadow-sm">
                            <h3 className="font-bold text-lg text-slate-800 mb-6 flex items-center border-b border-slate-200 pb-4">
                              <History className="w-5 h-5 text-indigo-500 mr-2" />
                              ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÄ‡∏•‡∏Ç‡∏ó‡πâ‡∏≤‡∏¢ 3 ‡∏ï‡∏±‡∏ß (‡∏û.‡∏®. 2559 - 2569)
                            </h3>
                            <div className="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 gap-3">
                              {statsData3D.all.sort((a,b) => b.count - a.count || a.num.localeCompare(b.num)).map(item => (
                                <div key={item.num} className={`flex flex-col items-center justify-center p-3 rounded-xl border ${item.count === 3 ? 'bg-rose-50 border-rose-300 shadow-md transform scale-105' : item.count === 2 ? 'bg-amber-50 border-amber-200' : 'bg-white border-slate-200'} shadow-sm hover:shadow-md transition-all`}>
                                  <span className={`font-mono font-bold text-lg ${item.count === 3 ? 'text-rose-700' : item.count === 2 ? 'text-amber-700' : 'text-slate-700'}`}>{item.num}</span>
                                  <span className={`text-[11px] font-medium mt-1 px-2 py-0.5 rounded-full ${item.count === 3 ? 'bg-rose-100 text-rose-700' : item.count === 2 ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-500'}`}>{item.count} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</span>
                                </div>
                              ))}
                            </div>
                          </div>
                        </div>
                      )}
                    </div>
                  </div>
                </div>
              )}

              {/* Info Modal */}
              {showInfoModal && (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm print:hidden">
                  <div className="bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in-95 duration-200 relative">
                    <button 
                      onClick={() => setShowInfoModal(false)}
                      className="absolute top-4 right-4 p-2 bg-slate-100 hover:bg-rose-100 text-slate-500 hover:text-rose-600 rounded-full transition-colors"
                    >
                      <X className="w-5 h-5" />
                    </button>
                    <div className="p-6 md:p-8">
                      <div className="flex items-center space-x-3 mb-6 border-b border-slate-100 pb-4">
                        <div className="p-3 bg-indigo-100 text-indigo-600 rounded-xl">
                          <ListChecks className="w-6 h-6" />
                        </div>
                        <div>
                          <h2 className="text-xl font-bold text-slate-800">‡πÄ‡∏à‡∏≤‡∏∞‡∏•‡∏∂‡∏Å‡∏Å‡∏£‡∏∞‡∏ö‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•</h2>
                          <p className="text-sm text-slate-500">Astro-Statistical Forecaster Algorithm</p>
                        </div>
                      </div>
                      <div className="space-y-6">
                        <div className="bg-slate-50 p-5 rounded-2xl border border-slate-200">
                          <h3 className="font-bold text-slate-800 flex items-center text-base mb-2">
                            <span className="bg-indigo-600 text-white w-6 h-6 flex items-center justify-center rounded-full text-xs mr-2 shadow-sm">1</span>
                            ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏ß‡∏±‡∏ô‡∏´‡∏ß‡∏¢‡∏≠‡∏≠‡∏Å (Base Filtering)
                          </h3>
                          <p className="text-sm text-slate-600 leading-relaxed ml-8">
                            ‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• <b>‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏≤‡∏á‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô</b> ‡πÅ‡∏•‡∏∞ <b>‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß</b> ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô<br/>
                            <span className="inline-block mt-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-mono text-indigo-700">
                              üí° <b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏´‡∏ß‡∏¢‡∏≠‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 16 ‡πÄ‡∏°‡∏©‡∏≤ (‡πÄ‡∏î‡∏∑‡∏≠‡∏ô 4) = ‡πÄ‡∏ó‡∏®‡∏Å‡∏≤‡∏•‡∏™‡∏á‡∏Å‡∏£‡∏≤‡∏ô‡∏ï‡πå ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡πÄ‡∏•‡∏Ç [1, 3, 4, 5, 9] ‡∏°‡∏≤‡∏ï‡∏∏‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏™‡∏°‡∏≠‡∏á‡∏Å‡∏•
                            </span>
                          </p>
                        </div>
                        <div className="bg-slate-50 p-5 rounded-2xl border border-slate-200">
                          <h3 className="font-bold text-slate-800 flex items-center text-base mb-2">
                            <span className="bg-indigo-600 text-white w-6 h-6 flex items-center justify-center rounded-full text-xs mr-2 shadow-sm">2</span>
                            ‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å (Weighted Scoring)
                          </h3>
                          <p className="text-sm text-slate-600 leading-relaxed ml-8">
                            ‡∏ô‡∏≥‡πÄ‡∏•‡∏Ç‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠ 1 ‡∏°‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏ß‡∏°‡∏Å‡∏±‡∏ö <b>‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏™‡∏ï‡∏¥‡πä‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</b> (‡πÄ‡∏ä‡πà‡∏ô ‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢, ‡πÄ‡∏ö‡∏¢‡πå‡πÄ‡∏ã‡∏µ‡∏¢‡∏ô)<br/>
                            <span className="inline-block mt-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-mono text-indigo-700">
                              üí° <b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Æ‡∏ß‡∏á‡∏à‡∏∏‡πâ‡∏¢‡∏£‡πà‡∏ß‡∏°‡∏î‡πâ‡∏ß‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ö‡∏ß‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏Ç 8, 9, 6 ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å 30% ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏à‡∏≠‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô
                            </span>
                          </p>
                        </div>
                        <div className="bg-slate-50 p-5 rounded-2xl border border-slate-200">
                          <h3 className="font-bold text-slate-800 flex items-center text-base mb-2">
                            <span className="bg-indigo-600 text-white w-6 h-6 flex items-center justify-center rounded-full text-xs mr-2 shadow-sm">3</span>
                            ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Ñ‡πà‡∏≤‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á (Historical Validation)
                          </h3>
                          <p className="text-sm text-slate-600 leading-relaxed ml-8">
                            ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏Ç‡∏ï‡∏±‡∏ß‡πÄ‡∏ï‡πá‡∏á ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ß‡∏¥‡πà‡∏á‡πÑ‡∏õ‡πÄ‡∏ä‡πá‡∏Å‡πÉ‡∏ô <b>‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏ù‡∏±‡∏á‡πÑ‡∏ß‡πâ (‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 10 ‡∏õ‡∏µ ‡∏ó‡∏±‡πâ‡∏á 2 ‡∏ï‡∏±‡∏ß ‡πÅ‡∏•‡∏∞ 3 ‡∏ï‡∏±‡∏ß)</b><br/>
                            <span className="inline-block mt-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-mono text-indigo-700">
                              üí° <b>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:</b> ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏•‡∏Ç "14" ‡πÑ‡∏î‡πâ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏ä‡πá‡∏Å‡∏û‡∏ö‡∏ß‡πà‡∏≤ 10 ‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤ 14 ‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏≠‡∏Å‡∏ñ‡∏∂‡∏á 6 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡πÄ‡∏õ‡πá‡∏ô Hot Number) ‡∏à‡∏∂‡∏á‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô "‡πÄ‡∏ï‡πá‡∏á 1"
                            </span>
                          </p>
                        </div>
                        <div className="bg-slate-50 p-5 rounded-2xl border border-slate-200">
                          <h3 className="font-bold text-slate-800 flex items-center text-base mb-2">
                            <span className="bg-indigo-600 text-white w-6 h-6 flex items-center justify-center rounded-full text-xs mr-2 shadow-sm">4</span>
                            ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô (Probability Adjustment)
                          </h3>
                          <p className="text-sm text-slate-600 leading-relaxed ml-8">
                            ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô (Deviation) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏î‡πÄ‡∏•‡∏Ç‡∏Å‡∏≤‡∏•‡∏Å‡∏¥‡∏ì‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏î‡∏∏‡∏•<br/>
                            <span className="inline-block mt-2 px-3 py-1.5 bg-white border border-slate-200 rounded-lg text-xs font-mono text-indigo-700">
                              üí° <b>‡∏™‡∏£‡∏∏‡∏õ:</b> ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ ‡∏Ñ‡∏∑‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏à‡∏≤‡∏Å ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥, ‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß, ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡∏Ñ‡∏ì‡∏¥‡∏ï‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß 100%
                            </span>
                          </p>
                        </div>
                      </div>
                      <div className="mt-8 text-center">
                        <button 
                          onClick={() => setShowInfoModal(false)}
                          className="bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-md"
                        >
                          ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              )}

              {/* Right Edge Warning Marquee */}
              <div className="right-edge-marquee print:hidden">
                <div className="right-edge-text">
                  ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≤‡∏î‡∏Ñ‡∏∞‡πÄ‡∏ô ‡πÅ‡∏ï‡πà‡∏´‡∏≤‡∏Å‡∏ñ‡∏π‡∏Å ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ô‡∏∂‡∏Å‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏î‡πâ‡∏ß‡∏¢
                </div>
              </div>

              {/* Header Section */}
              <header className="bg-gradient-to-r from-indigo-900 via-purple-900 to-indigo-900 text-white py-6 shadow-md print:bg-white print:text-black print:shadow-none print:border-b-2 print:border-slate-800 print:py-4 relative overflow-hidden">
                <div className="absolute top-0 left-0 w-full bg-black/20 py-1 text-xs text-indigo-100 marquee-container print:hidden">
                  <div className="marquee-content font-medium tracking-wide">
                    ‚ö° ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: ‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏π‡πà‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡∏Ç‡∏Ñ‡∏µ‡πà 5% ‡πÉ‡∏ô‡∏á‡∏ß‡∏î‡∏ß‡∏±‡∏ô‡∏®‡∏∏‡∏Å‡∏£‡πå ‚Ä¢ üî• ‡∏î‡∏≤‡∏ß‡∏û‡∏§‡∏´‡∏±‡∏™‡πÇ‡∏Ñ‡∏à‡∏£‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏á‡∏Ñ‡∏• ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏ä‡∏∏‡∏î‡πÄ‡∏•‡∏Ç 5, 1, 9 ‚Ä¢ üìä ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á (‡πÄ‡∏•‡∏Ç 2 ‡∏ï‡∏±‡∏ß ‡πÅ‡∏•‡∏∞ 3 ‡∏ï‡∏±‡∏ß) ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡πÑ‡∏ó‡∏¢‡∏õ‡∏µ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î!
                  </div>
                </div>

                <div className="container mx-auto px-4 mt-4 max-w-4xl flex items-center justify-between relative z-10">
                  <div className="flex items-center space-x-3">
                    <div className="bg-white/10 p-2 rounded-lg backdrop-blur-sm print:bg-slate-100 print:text-black floating-anim">
                      <PieChart className="w-7 h-7 text-yellow-300 print:text-slate-800" />
                    </div>
                    <div>
                      <h1 className="text-2xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-indigo-200">
                        Astro-Statistical Forecaster
                      </h1>
                      <p className="text-xs text-indigo-200 print:text-slate-600 flex items-center mt-1">
                        <Sparkles className="w-3 h-3 mr-1 text-yellow-300" />
                        ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á (V4 Global)
                      </p>
                    </div>
                  </div>
                  <div className="hidden sm:flex items-center space-x-3 print:hidden">
                    <button 
                      onClick={() => setShowStatsModal(true)}
                      className="flex items-center text-sm font-bold text-white bg-rose-500 hover:bg-rose-600 px-4 py-2 rounded-full shadow-lg shadow-rose-500/30 transition-all border border-rose-400"
                    >
                      <BarChart3 className="w-4 h-4 mr-2" />
                      ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏´‡∏ß‡∏¢‡πÑ‡∏ó‡∏¢ 10 ‡∏õ‡∏µ
                    </button>
                    <button 
                      onClick={() => setShowInfoModal(true)}
                      className="flex items-center text-sm font-medium text-white bg-white/10 hover:bg-white/20 px-4 py-2 rounded-full backdrop-blur-sm border border-white/20 transition-all shadow-sm"
                    >
                      <Info className="w-4 h-4 mr-2 text-indigo-200" />
                      ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
                    </button>
                  </div>
                </div>
              </header>

              <main className="container mx-auto px-4 py-8 max-w-4xl">
                
                {/* Input Form Section */}
                <section className="bg-white rounded-2xl shadow-xl shadow-indigo-100/50 border border-slate-200 p-6 md:p-8 mb-8 print:hidden relative overflow-hidden">
                  <div className="absolute -right-6 -top-6 bg-indigo-50 w-24 h-24 rounded-full opacity-50 floating-anim" style={{animationDelay: '1s'}}></div>
                  
                  <div className="flex justify-between items-center mb-6 border-b border-slate-100 pb-4">
                    <h2 className="text-lg font-semibold flex items-center text-slate-800">
                      <Award className="w-5 h-5 mr-2 text-indigo-500" />
                      ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á
                    </h2>
                    {/* Mobile Action Buttons */}
                    <div className="sm:hidden flex space-x-2">
                      <button 
                        onClick={() => setShowStatsModal(true)}
                        className="flex items-center text-xs font-bold text-white bg-rose-500 px-3 py-1.5 rounded-full"
                      >
                        <BarChart3 className="w-3 h-3 mr-1" /> ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ 10 ‡∏õ‡∏µ
                      </button>
                      <button 
                        onClick={() => setShowInfoModal(true)}
                        className="flex items-center text-xs font-medium text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-full border border-indigo-100"
                      >
                        <Info className="w-3 h-3 mr-1" /> ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì
                      </button>
                    </div>
                  </div>
                  
                  <form onSubmit={handleGenerate} className="space-y-8 relative z-10">
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                      
                      <div className="space-y-2">
                        <label className="block text-sm font-bold text-slate-700">1. ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏•‡∏≤‡∏Å / ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</label>
                        <div className="relative group">
                          <select 
                            value={selectedLottery}
                            onChange={(e) => setSelectedLottery(e.target.value)}
                            className="w-full appearance-none bg-slate-50 border-2 border-slate-200 text-slate-700 py-3.5 px-4 rounded-xl focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium hover:border-indigo-300"
                          >
                            {LOTTERY_TYPES.map(type => (
                              <option key={type.id} value={type.id}>{type.name}</option>
                            ))}
                          </select>
                          <ChevronDown className="absolute right-4 top-4 w-5 h-5 text-indigo-400 pointer-events-none group-hover:text-indigo-600 transition-colors" />
                        </div>
                      </div>

                      <div className="space-y-2">
                        <label className="block text-sm font-bold text-slate-700">2. ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏µ ‡∏û.‡∏®.)</label>
                        <div className="relative group">
                          <input 
                            type="date" 
                            required
                            min={todayDateStr}
                            value={drawDate}
                            onChange={(e) => setDrawDate(e.target.value)}
                            className="w-full bg-slate-50 border-2 border-slate-200 text-slate-700 py-3.5 px-4 rounded-xl focus:outline-none focus:ring-4 focus:ring-indigo-500/20 focus:border-indigo-500 transition-all font-medium hover:border-indigo-300"
                          />
                          <Calendar className="absolute right-4 top-4 w-5 h-5 text-indigo-400 pointer-events-none group-hover:text-indigo-600 transition-colors" />
                        </div>
                        <p className="text-[11px] text-slate-500 font-medium">* ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏Ç‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ‡∏à‡∏≤‡∏Å‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏°‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</p>
                      </div>
                    </div>

                    {/* ASTROLOGY DETAILS BOX (Appears after date selection) */}
                    {drawDate && (
                      <div className="col-span-1 md:col-span-2 mt-4 p-5 md:p-6 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl border border-indigo-100 shadow-inner animate-in fade-in slide-in-from-top-4 duration-500">
                        <h3 className="font-bold text-indigo-800 flex items-center mb-3 text-base md:text-lg">
                          <Compass className="w-5 h-5 mr-2 text-indigo-600 animate-pulse" />
                          ‡∏ß‡∏¥‡∏ñ‡∏µ‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß ‡∏§‡∏Å‡∏©‡πå‡∏á‡∏≤‡∏°‡∏¢‡∏≤‡∏°‡∏î‡∏µ ‡πÅ‡∏•‡∏∞‡∏ó‡∏£‡∏¥‡∏Ñ‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏•‡∏±‡∏á‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥
                        </h3>
                        <div className="bg-white/60 p-4 rounded-xl border border-white/50 backdrop-blur-sm">
                          <p className="text-sm md:text-base text-slate-700 leading-loose md:leading-loose tracking-wide indent-8 text-justify">
                            {getDetailedAstroInfo()}
                          </p>
                        </div>
                      </div>
                    )}

                    <div className="space-y-3 pt-2">
                      <label className="block text-sm font-bold text-slate-700 flex items-center justify-between">
                        <span>3. ‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ú‡∏™‡∏°‡∏ú‡∏™‡∏≤‡∏ô (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1)</span>
                        <span className="text-xs bg-indigo-100 text-indigo-700 py-1 px-2 rounded-md">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß {selectedMethods.length} ‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå</span>
                      </label>
                      
                      <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3">
                        {CALC_METHODS.map(method => {
                          const isSelected = selectedMethods.includes(method.id);
                          return (
                            <div 
                              key={method.id}
                              onClick={() => toggleMethod(method.id)}
                              className={`cursor-pointer border-2 rounded-xl p-3 transition-all relative overflow-hidden group flex flex-col items-center text-center ${isSelected ? 'border-indigo-500 bg-indigo-50 shadow-sm' : 'border-slate-200 bg-white hover:border-indigo-300 hover:bg-slate-50'}`}
                            >
                              <div className={`absolute top-2 right-2 transition-opacity ${isSelected ? 'opacity-100' : 'opacity-0'}`}>
                                <CheckCircle2 className="w-4 h-4 text-indigo-600" />
                              </div>
                              
                              <span className="text-2xl mb-1 mt-2">{method.icon}</span>
                              <span className={`text-xs font-bold mb-1 ${isSelected ? 'text-indigo-800' : 'text-slate-700'}`}>{method.name}</span>
                              <span className="text-[9px] text-slate-500 leading-tight">{method.desc}</span>
                            </div>
                          );
                        })}
                      </div>
                    </div>

                    <div className="pt-4 border-t border-slate-100">
                      <button 
                        type="submit" 
                        disabled={isGenerating || !drawDate}
                        className="group relative w-full bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 hover:from-indigo-500 hover:via-purple-500 hover:to-indigo-500 disabled:from-slate-400 disabled:to-slate-400 text-white font-bold py-4 px-4 rounded-xl transition-all flex flex-col items-center justify-center shadow-lg hover:shadow-indigo-500/30 overflow-hidden transform hover:-translate-y-1 active:translate-y-0 disabled:transform-none"
                      >
                        <div className="absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-white/20 to-transparent group-hover:animate-[shimmer_1.5s_infinite] print:hidden"></div>

                        {isGenerating ? (
                          <div className="flex items-center space-x-3">
                            <Loader2 className="w-6 h-6 animate-spin text-yellow-300" />
                            <span className="text-lg">‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏±‡∏á‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å {selectedMethods.length} ‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå...</span>
                          </div>
                        ) : (
                          <>
                            <div className="flex items-center space-x-2 text-lg">
                              <Zap className="w-5 h-5 text-yellow-300 animate-pulse" />
                              <span>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á</span>
                            </div>
                            <span className="text-xs font-normal text-indigo-200 mt-1 bg-black/20 px-3 py-1 rounded-full">
                              *‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö: ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡∏î‡πâ‡∏ß‡∏¢ <b>"‡∏°‡∏∑‡∏≠‡∏Ç‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏ô‡∏±‡∏î"</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏Ñ‡πÉ‡∏´‡∏°‡πà*
                            </span>
                          </>
                        )}
                      </button>
                    </div>
                  </form>
                </section>

                {isGenerating && (
                  <div className="text-center py-16 print:hidden">
                    <div className="inline-block relative w-24 h-24 mb-6">
                      <div className="absolute top-0 left-0 w-full h-full border-4 border-slate-100 rounded-full"></div>
                      <div className="absolute top-0 left-0 w-full h-full border-4 border-indigo-500 rounded-full border-t-transparent animate-spin"></div>
                      <div className="absolute inset-0 flex items-center justify-center">
                        <Cpu className="w-8 h-8 text-indigo-600 animate-pulse" />
                      </div>
                    </div>
                    <h3 className="text-xl font-bold text-slate-700 floating-anim text-gradient">Data-Driven Astrological Calculation...</h3>
                    <p className="text-sm text-slate-500 mt-2">‡∏î‡∏∂‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á (2‡∏ï‡∏±‡∏ß/3‡∏ï‡∏±‡∏ß) ‚Ä¢ ‡πÅ‡∏°‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ‚Ä¢ ‡∏ú‡∏™‡∏≤‡∏ô‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÇ‡∏•‡∏Å</p>
                  </div>
                )}

                {result && !isGenerating && (
                  <div className="space-y-6 animate-in fade-in slide-in-from-bottom-8 duration-700">
                    
                    <div className="bg-gradient-to-r from-amber-50 to-orange-50 border-l-4 border-amber-500 p-4 rounded-r-lg print:border-l-0 print:border-y-2 print:bg-white print:text-black print:rounded-none shadow-sm">
                      <div className="flex">
                        <AlertTriangle className="w-6 h-6 text-amber-500 mr-3 shrink-0 print:text-black floating-anim" />
                        <div className="text-sm text-amber-800 print:text-black">
                          <span className="font-bold block mb-1">‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á (Risk Disclaimer)</span>
                          ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏ú‡∏™‡∏≤‡∏ô‡∏≠‡∏±‡∏•‡∏Å‡∏≠‡∏£‡∏¥‡∏ó‡∏∂‡∏°‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏î‡∏ß‡∏á‡∏î‡∏≤‡∏ß <b>‡∏°‡∏¥‡πÉ‡∏ä‡πà‡∏Å‡∏≤‡∏£‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏ú‡∏•</b> ‡πÇ‡∏õ‡∏£‡∏î‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏î‡∏∏‡∏•‡∏¢‡∏û‡∏¥‡∏ô‡∏¥‡∏à‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡πÉ‡∏î‡πÜ ‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á
                        </div>
                      </div>
                    </div>

                    <div className="bg-white rounded-3xl shadow-2xl border-4 border-indigo-50 overflow-hidden print:shadow-none print:border-2 print:border-black print:rounded-none relative">
                      
                      <div className="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full opacity-50 blur-2xl print:hidden"></div>

                      <div className="bg-slate-50/80 backdrop-blur-sm px-6 py-5 border-b border-slate-200 flex justify-between items-center print:px-0 print:bg-white print:border-black print:border-b-2 relative z-10">
                        <div>
                          <h3 className="text-xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-indigo-800 to-purple-800 print:text-black">
                            ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå: {result.lotteryName}
                          </h3>
                          <p className="text-sm font-medium text-slate-600 print:text-black mt-1">
                            ‡∏á‡∏ß‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô{result.dayName}‡∏ó‡∏µ‡πà: {result.dateStr}
                          </p>
                        </div>
                        <div className="text-right hidden md:block">
                          <span className="text-xs text-slate-400 block mb-1 font-semibold uppercase tracking-wider">Analysis ID</span>
                          <span className="font-mono text-sm font-bold text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-lg border border-indigo-100 print:bg-white print:border-black print:text-black">
                            #{result.seed}
                          </span>
                        </div>
                      </div>

                      <div className="grid grid-cols-2 lg:grid-cols-5 divide-y lg:divide-y-0 lg:divide-x divide-slate-100 border-b border-slate-100 print:border-black print:divide-black print:grid-cols-5 bg-white relative z-10">
                        <div className="p-4 lg:p-5 text-center flex flex-col justify-center">
                          <span className="block text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-2">‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ</span>
                          <div className="flex flex-wrap justify-center gap-1">
                            {result.methodsUsed.map(m => (
                              <span key={m.id} className="text-[10px] bg-slate-100 text-slate-600 px-1.5 py-0.5 rounded print:border print:border-black">{m.name.split(' ')[0]}</span>
                            ))}
                          </div>
                        </div>
                        <div className="p-4 lg:p-5 text-center flex flex-col justify-center">
                          <span className="block text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-2">‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏•‡∏î‡∏≤‡∏ß‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</span>
                          <span className="font-bold text-base lg:text-lg text-indigo-600 print:text-black flex items-center justify-center">
                            {result.star}
                          </span>
                        </div>
                        <div className="p-4 lg:p-5 text-center flex flex-col justify-center">
                          <span className="block text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-1">‡πÄ‡∏•‡∏Ç‡∏°‡∏á‡∏Ñ‡∏•‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô‡∏á‡∏ß‡∏î‡∏ô‡∏µ‡πâ</span>
                          <span className="text-[9px] text-slate-500 mb-1 line-clamp-1">{result.calendarEvent}</span>
                          <span className="font-bold text-base text-rose-600 print:text-black flex items-center justify-center">
                            <BookOpen className="w-3.5 h-3.5 mr-1 print:hidden" />
                            {result.calendarDigits}
                          </span>
                        </div>
                        <div className="p-4 lg:p-5 text-center flex flex-col justify-center">
                          <span className="block text-[10px] text-slate-400 uppercase tracking-widest font-bold mb-2">‡∏§‡∏Å‡∏©‡πå‡∏°‡∏á‡∏Ñ‡∏•‡∏î‡∏∂‡∏á‡∏î‡∏π‡∏î‡πÇ‡∏ä‡∏Ñ</span>
                          <span className="font-bold text-sm lg:text-base text-emerald-600 print:text-black flex items-center justify-center">
                            <Clock className="w-3.5 h-3.5 mr-1 print:hidden" />
                            {result.auspiciousTime}
                          </span>
                        </div>
                        <div className="p-4 lg:p-5 text-center bg-gradient-to-br from-indigo-50 to-purple-50 print:bg-white col-span-2 lg:col-span-1 flex flex-col justify-center">
                          <span className="block text-[10px] text-indigo-400 uppercase tracking-widest font-bold mb-2">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏£‡∏ß‡∏°</span>
                          <div className="flex items-center justify-center">
                            <span className="font-black text-2xl lg:text-3xl text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-violet-600 print:text-black">
                              {result.confidence}%
                            </span>
                          </div>
                        </div>
                      </div>

                      <div className="p-6 md:p-10 relative z-10 bg-white">
                        <div className="space-y-10">
                          {result.sets.map((set, idx) => (
                            <div key={idx} className="print:mb-8">
                              <h4 className="text-sm font-bold text-slate-500 mb-6 border-b-2 border-slate-100 pb-2 print:border-black print:text-black uppercase tracking-wider flex items-center">
                                <Sparkles className="w-4 h-4 mr-2 text-yellow-400 print:hidden" />
                                {set.label}
                              </h4>
                              <div className="flex flex-col md:flex-row gap-6 md:gap-8 justify-center md:justify-start flex-wrap">
                                {set.options.map((opt, optIdx) => (
                                  <div 
                                    key={optIdx} 
                                    style={{ animationDelay: `${(idx * 0.2) + (optIdx * 0.1)}s` }}
                                    className={`reveal-pop group relative ${opt.bg} border-2 ${opt.border} ${opt.color} font-mono ${opt.value.length >= 6 ? 'text-4xl md:text-5xl tracking-widest' : 'text-5xl md:text-6xl tracking-[0.15em]'} font-black p-6 min-w-[200px] md:min-w-[240px] rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.06)] hover:shadow-xl hover:-translate-y-2 transition-all print:border-black print:text-black print:shadow-none print:rounded-none print:tracking-normal print:transform-none w-full md:w-auto text-center flex flex-col items-center justify-center overflow-hidden flex-1`}
                                  >
                                    <div className={`relative z-20 bg-white border-2 border-inherit ${opt.color} text-[11px] uppercase tracking-widest font-bold px-4 py-1.5 rounded-full shadow-sm print:border-black print:text-black mb-3 whitespace-nowrap`}>
                                      {opt.name}
                                    </div>
                                    
                                    <div className={`absolute inset-0 bg-gradient-to-r ${opt.glow} rounded-3xl opacity-0 group-hover:opacity-10 transition-opacity print:hidden`}></div>
                                    
                                    <span className="relative z-10 drop-shadow-sm my-2">{opt.value}</span>

                                    {opt.showHistory && (
                                      <div className={`relative z-20 mt-3 bg-white/90 backdrop-blur-sm border border-slate-200 text-xs font-sans tracking-normal font-bold px-4 py-1.5 rounded-full shadow-sm print:border-black print:text-black whitespace-nowrap flex items-center`}>
                                        <History className={`w-3.5 h-3.5 mr-1.5 ${opt.isRealData ? 'text-rose-500' : 'text-indigo-500'} print:text-black`} />
                                        {opt.isRealData ? (
                                          <span className="text-rose-700">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏à‡∏£‡∏¥‡∏á 10 ‡∏õ‡∏µ: {opt.history === 0 ? '‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏≠‡∏Å (‡∏£‡∏≠‡πÅ‡∏ï‡∏Å!)' : `‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏≠‡∏Å ${opt.history} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á`}</span>
                                        ) : (
                                          <span className="text-slate-600">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ 10 ‡∏õ‡∏µ: {opt.history === 0 ? '‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏≠‡∏Å' : `‡∏≠‡∏≠‡∏Å ${opt.history} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á`}</span>
                                        )}
                                      </div>
                                    )}
                                  </div>
                                ))}
                              </div>
                            </div>
                          ))}
                        </div>
                      </div>
                      
                      <div className="bg-slate-50 px-6 py-5 flex justify-between items-center print:hidden border-t border-slate-200">
                        <span className="text-xs font-medium text-slate-500 flex items-center">
                          <Calculator className="w-4 h-4 mr-1.5 text-indigo-400" />
                          Processed by Advanced Astro-Stat Engine
                        </span>
                        <button 
                          onClick={() => window.print()}
                          className="flex items-center space-x-2 text-indigo-700 hover:text-white font-bold text-sm transition-all bg-indigo-100 hover:bg-indigo-600 px-5 py-2.5 rounded-xl shadow-sm"
                        >
                          <Printer className="w-4 h-4" />
                          <span>‡∏û‡∏¥‡∏°‡∏û‡πå‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô (Print)</span>
                        </button>
                      </div>

                    </div>
                    
                    <div className="hidden print:block mt-12 text-center text-xs text-slate-500 border-t-2 border-black pt-4 font-bold">
                      ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏â‡∏ö‡∏±‡∏ö‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö Astro-Statistical Forecaster ‚Ä¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå ‚Ä¢ ‡∏≠‡∏≠‡∏Å‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠: {new Date().toLocaleString('th-TH')}
                    </div>
                  </div>
                )}

              </main>

              <footer className="py-8 text-center text-slate-500 text-sm font-medium print:hidden border-t border-slate-200 mt-8 bg-slate-100/50">
                <p>‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÇ‡∏î‡∏¢ <span className="text-indigo-600 font-extrabold text-base tracking-wide">‡∏à‡∏µ‡∏£‡∏†‡∏±‡∏ó‡∏£</span></p>
                <p className="text-xs text-slate-400 mt-1">Astro-Statistical Forecaster ¬© {new Date().getFullYear()}</p>
              </footer>
            </div>
          );
        }

        // Render to DOM
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<AstroForecaster />);
    </script>
</body>
</html>